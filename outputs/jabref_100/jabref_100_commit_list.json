[["Olaf Lenz", "Merge branch 'sorting'", "03/12/14, 09:16:45 AM", "Olaf Lenz", "6db780e96882aca9fa3170afd13a7965dfb61a69", ["src/java/net/sf/jabref/FileSortTab.java", "src/java/net/sf/jabref/FileTab.java", "src/java/net/sf/jabref/JabRefPreferences.java", "src/java/net/sf/jabref/PrefsDialog3.java", "src/java/net/sf/jabref/TablePrefsTab.java", "src/java/net/sf/jabref/export/FileActions.java", "src/java/net/sf/jabref/gui/ImportInspectionDialog.java", "src/java/net/sf/jabref/gui/MainTable.java"], "@@ -0,0 +1,387 @@\n+/*  Copyright (C) 2013 JabRef contributors.\n+ This program is free software; you can redistribute it and/or modify\n+ it under the terms of the GNU General Public License as published by\n+ the Free Software Foundation; either version 2 of the License, or\n+ (at your option) any later version.\n+\n+ This program is distributed in the hope that it will be useful,\n+ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ GNU General Public License for more details.\n+\n+ You should have received a copy of the GNU General Public License along\n+ with this program; if not, write to the Free Software Foundation, Inc.,\n+ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n+ */\n+package net.sf.jabref;\n+\n+import java.awt.*;\n+import javax.swing.*;\n+\n+import com.jgoodies.forms.builder.DefaultFormBuilder;\n+import com.jgoodies.forms.layout.FormLayout;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.ArrayList;\n+\n+/**\n+ * Preference tab for file sorting options.\n+ */\n+public class FileSortTab extends JPanel implements PrefsTab {\n+\n+    JabRefPreferences _prefs;\n+    JabRefFrame _frame;\n+    private JRadioButton saveInOriginalOrder, saveInTableOrder, saveInSpecifiedOrder;\n+    private JCheckBox savePriDesc, saveSecDesc, saveTerDesc;\n+    private JTextField savePriField, saveSecField, saveTerField;\n+    private JComboBox savePriSort, saveSecSort, saveTerSort;\n+    private JPanel saveSpecPanel;\n+\n+    private JRadioButton exportInOriginalOrder, exportInTableOrder, exportInSpecifiedOrder;\n+    private JCheckBox exportPriDesc, exportSecDesc, exportTerDesc;\n+    private JTextField exportPriField, exportSecField, exportTerField;\n+    private JComboBox exportPriSort, exportSecSort, exportTerSort;\n+    private JPanel exportSpecPanel;\n+\n+    public FileSortTab(JabRefFrame frame, JabRefPreferences prefs) {\n+        this._prefs = prefs;\n+        this._frame = frame;\n+        FormLayout layout = new FormLayout(\"4dlu, left:pref, 4dlu, fill:pref\", \"\");\n+        DefaultFormBuilder builder = new DefaultFormBuilder(layout);\n+        builder.setLeadingColumnOffset(1);\n+\n+        { // SAVE SORT ORDER\n+            // create Components\n+            saveInOriginalOrder = new JRadioButton(Globals.lang(\"Save entries in their original order\"));\n+            saveInTableOrder = new JRadioButton(Globals.lang(\"Save in current table sort order\"));\n+            saveInSpecifiedOrder = new JRadioButton(Globals.lang(\"Save entries ordered as specified\"));\n+\n+            ButtonGroup bg = new ButtonGroup();\n+            bg.add(saveInOriginalOrder);\n+            bg.add(saveInTableOrder);\n+            bg.add(saveInSpecifiedOrder);\n+\n+            ActionListener listener = new ActionListener() {\n+                public void actionPerformed(ActionEvent e) {\n+                    boolean selected = e.getSource() == saveInSpecifiedOrder;\n+                    savePriSort.setEnabled(selected);\n+                    savePriField.setEnabled(selected);\n+                    savePriDesc.setEnabled(selected);\n+                    saveSecSort.setEnabled(selected);\n+                    saveSecField.setEnabled(selected);\n+                    saveSecDesc.setEnabled(selected);\n+                    saveTerSort.setEnabled(selected);\n+                    saveTerField.setEnabled(selected);\n+                    saveTerDesc.setEnabled(selected);\n+                }\n+            };\n+            saveInOriginalOrder.addActionListener(listener);\n+            saveInTableOrder.addActionListener(listener);\n+            saveInSpecifiedOrder.addActionListener(listener);\n+\n+            ArrayList<String> v = new ArrayList<String>(Arrays.asList(BibtexFields.getAllFieldNames()));\n+            v.add(BibtexFields.KEY_FIELD);\n+            Collections.sort(v);\n+            Object[] allPlusKey = v.toArray();\n+            savePriSort = new JComboBox(allPlusKey);\n+            saveSecSort = new JComboBox(allPlusKey);\n+            saveTerSort = new JComboBox(allPlusKey);\n+\n+            savePriField = new JTextField(10);\n+            saveSecField = new JTextField(10);\n+            saveTerField = new JTextField(10);\n+\n+            savePriSort.insertItemAt(Globals.lang(\"<select>\"), 0);\n+            saveSecSort.insertItemAt(Globals.lang(\"<select>\"), 0);\n+            saveTerSort.insertItemAt(Globals.lang(\"<select>\"), 0);\n+\n+            savePriSort.addActionListener(new ActionListener() {\n+                public void actionPerformed(ActionEvent e) {\n+                    if (savePriSort.getSelectedIndex() > 0) {\n+                        savePriField.setText(savePriSort.getSelectedItem().toString());\n+                        savePriSort.setSelectedIndex(0);\n+                    }\n+                }\n+            });\n+            saveSecSort.addActionListener(new ActionListener() {\n+                public void actionPerformed(ActionEvent e) {\n+                    if (saveSecSort.getSelectedIndex() > 0) {\n+                        saveSecField.setText(saveSecSort.getSelectedItem().toString());\n+                        saveSecSort.setSelectedIndex(0);\n+                    }\n+                }\n+            });\n+            saveTerSort.addActionListener(new ActionListener() {\n+                public void actionPerformed(ActionEvent e) {\n+                    if (saveTerSort.getSelectedIndex() > 0) {\n+                        saveTerField.setText(saveTerSort.getSelectedItem().toString());\n+                        saveTerSort.setSelectedIndex(0);\n+                    }\n+                }\n+            });\n+\n+            savePriDesc = new JCheckBox(Globals.lang(\"Descending\"));\n+            saveSecDesc = new JCheckBox(Globals.lang(\"Descending\"));\n+            saveTerDesc = new JCheckBox(Globals.lang(\"Descending\"));\n+\n+            // create GUI\n+            JLabel lab;\n+\n+            builder.appendSeparator(Globals.lang(\"Save sort order\"));\n+            builder.append(saveInOriginalOrder, 1);\n+            builder.nextLine();\n+            builder.append(saveInTableOrder, 1);\n+            builder.nextLine();\n+            builder.append(saveInSpecifiedOrder, 1);\n+            builder.nextLine();\n+\n+            // Create a new panel with its own FormLayout for these items:\n+            FormLayout layout2 = new FormLayout(\n+                    \"right:pref, 8dlu, fill:pref, 4dlu, fill:60dlu, 4dlu, left:pref\", \"\");\n+            DefaultFormBuilder builder2 = new DefaultFormBuilder(layout2);\n+            lab = new JLabel(Globals.lang(\"Primary sort criterion\"));\n+            builder2.append(lab);\n+            builder2.append(savePriSort);\n+            builder2.append(savePriField);\n+            builder2.append(savePriDesc);\n+            builder2.nextLine();\n+            lab = new JLabel(Globals.lang(\"Secondary sort criterion\"));\n+            builder2.append(lab);\n+            builder2.append(saveSecSort);\n+            builder2.append(saveSecField);\n+            builder2.append(saveSecDesc);\n+            builder2.nextLine();\n+            lab = new JLabel(Globals.lang(\"Tertiary sort criterion\"));\n+            builder2.append(lab);\n+            builder2.append(saveTerSort);\n+            builder2.append(saveTerField);\n+            builder2.append(saveTerDesc);\n+\n+            saveSpecPanel = builder2.getPanel();\n+            builder.append(saveSpecPanel);\n+            builder.nextLine();\n+        }\n+\n+        { // EXPORT SORT ORDER\n+            // create Components\n+            exportInOriginalOrder = new JRadioButton(Globals.lang(\"Export entries in their original order\"));\n+            exportInTableOrder = new JRadioButton(Globals.lang(\"Export in current table sort order\"));\n+            exportInSpecifiedOrder = new JRadioButton(Globals.lang(\"Export entries ordered as specified\"));\n+\n+            ButtonGroup bg = new ButtonGroup();\n+            bg.add(exportInOriginalOrder);\n+            bg.add(exportInTableOrder);\n+            bg.add(exportInSpecifiedOrder);\n+            \n+            ActionListener listener = new ActionListener() {\n+                public void actionPerformed(ActionEvent e) {\n+                    boolean selected = e.getSource() == exportInSpecifiedOrder;\n+                    exportPriSort.setEnabled(selected);\n+                    exportPriField.setEnabled(selected);\n+                    exportPriDesc.setEnabled(selected);\n+                    exportSecSort.setEnabled(selected);\n+                    exportSecField.setEnabled(selected);\n+                    exportSecDesc.setEnabled(selected);\n+                    exportTerSort.setEnabled(selected);\n+                    exportTerField.setEnabled(selected);\n+                    exportTerDesc.setEnabled(selected);\n+                }\n+            };\n+            exportInOriginalOrder.addActionListener(listener);\n+            exportInTableOrder.addActionListener(listener);\n+            exportInSpecifiedOrder.addActionListener(listener);\n+\n+            ArrayList<String> v = new ArrayList<String>(Arrays.asList(BibtexFields.getAllFieldNames()));\n+            v.add(BibtexFields.KEY_FIELD);\n+            Collections.sort(v);\n+            Object[] allPlusKey = v.toArray();\n+            exportPriSort = new JComboBox(allPlusKey);\n+            exportSecSort = new JComboBox(allPlusKey);\n+            exportTerSort = new JComboBox(allPlusKey);\n+\n+            exportPriField = new JTextField(10);\n+            exportSecField = new JTextField(10);\n+            exportTerField = new JTextField(10);\n+\n+            exportPriSort.insertItemAt(Globals.lang(\"<select>\"), 0);\n+            exportSecSort.insertItemAt(Globals.lang(\"<select>\"), 0);\n+            exportTerSort.insertItemAt(Globals.lang(\"<select>\"), 0);\n+\n+            exportPriSort.addActionListener(new ActionListener() {\n+                public void actionPerformed(ActionEvent e) {\n+                    if (exportPriSort.getSelectedIndex() > 0) {\n+                        exportPriField.setText(exportPriSort.getSelectedItem().toString());\n+                        exportPriSort.setSelectedIndex(0);\n+                    }\n+                }\n+            });\n+            exportSecSort.addActionListener(new ActionListener() {\n+                public void actionPerformed(ActionEvent e) {\n+                    if (exportSecSort.getSelectedIndex() > 0) {\n+                        exportSecField.setText(exportSecSort.getSelectedItem().toString());\n+                        exportSecSort.setSelectedIndex(0);\n+                    }\n+                }\n+            });\n+            exportTerSort.addActionListener(new ActionListener() {\n+                public void actionPerformed(ActionEvent e) {\n+                    if (exportTerSort.getSelectedIndex() > 0) {\n+                        exportTerField.setText(exportTerSort.getSelectedItem().toString());\n+                        exportTerSort.setSelectedIndex(0);\n+                    }\n+                }\n+            });\n+\n+            exportPriDesc = new JCheckBox(Globals.lang(\"Descending\"));\n+            exportSecDesc = new JCheckBox(Globals.lang(\"Descending\"));\n+            exportTerDesc = new JCheckBox(Globals.lang(\"Descending\"));\n+\n+\n+            // create GUI\n+            JLabel lab;\n+\n+            builder.appendSeparator(Globals.lang(\"Export sort order\"));\n+            builder.append(exportInOriginalOrder, 1);\n+            builder.nextLine();\n+            builder.append(exportInTableOrder, 1);\n+            builder.nextLine();\n+            builder.append(exportInSpecifiedOrder, 1);\n+            builder.nextLine();\n+            \n+\n+            // Create a new panel with its own FormLayout for these items:\n+            FormLayout layout2 = new FormLayout(\n+                    \"right:pref, 8dlu, fill:pref, 4dlu, fill:60dlu, 4dlu, left:pref\", \"\");\n+            DefaultFormBuilder builder2 = new DefaultFormBuilder(layout2);\n+            lab = new JLabel(Globals.lang(\"Primary sort criterion\"));\n+            builder2.append(lab);\n+            builder2.append(exportPriSort);\n+            builder2.append(exportPriField);\n+            builder2.append(exportPriDesc);\n+            builder2.nextLine();\n+            lab = new JLabel(Globals.lang(\"Secondary sort criterion\"));\n+            builder2.append(lab);\n+            builder2.append(exportSecSort);\n+            builder2.append(exportSecField);\n+            builder2.append(exportSecDesc);\n+            builder2.nextLine();\n+            lab = new JLabel(Globals.lang(\"Tertiary sort criterion\"));\n+            builder2.append(lab);\n+            builder2.append(exportTerSort);\n+            builder2.append(exportTerField);\n+            builder2.append(exportTerDesc);\n+\n+            builder.append(builder2.getPanel());\n+            builder.nextLine();\n+        }\n+\n+        // COMBINE EVERYTHING\n+        JPanel pan = builder.getPanel();\n+        pan.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n+        setLayout(new BorderLayout());\n+        add(pan, BorderLayout.CENTER);\n+    }\n+\n+    public void setValues() {\n+        if (_prefs.getBoolean(JabRefPreferences.SAVE_IN_ORIGINAL_ORDER)) {\n+            saveInOriginalOrder.setSelected(true);\n+        } else if (_prefs.getBoolean(JabRefPreferences.SAVE_IN_SPECIFIED_ORDER)) {\n+            saveInSpecifiedOrder.setSelected(true);\n+        } else {\n+            saveInTableOrder.setSelected(true);\n+        }\n+\n+        {\n+            boolean selected = _prefs.getBoolean(JabRefPreferences.SAVE_IN_SPECIFIED_ORDER);\n+            savePriSort.setEnabled(selected);\n+            savePriField.setEnabled(selected);\n+            savePriDesc.setEnabled(selected);\n+            saveSecSort.setEnabled(selected);\n+            saveSecField.setEnabled(selected);\n+            saveSecDesc.setEnabled(selected);\n+            saveTerSort.setEnabled(selected);\n+            saveTerField.setEnabled(selected);\n+            saveTerDesc.setEnabled(selected);\n+        }\n+\n+        savePriField.setText(_prefs.get(JabRefPreferences.SAVE_PRIMARY_SORT_FIELD));\n+        saveSecField.setText(_prefs.get(JabRefPreferences.SAVE_SECONDARY_SORT_FIELD));\n+        saveTerField.setText(_prefs.get(JabRefPreferences.SAVE_TERTIARY_SORT_FIELD));\n+\n+        savePriSort.setSelectedIndex(0);\n+        saveSecSort.setSelectedIndex(0);\n+        saveTerSort.setSelectedIndex(0);\n+\n+        savePriDesc.setSelected(_prefs.getBoolean(JabRefPreferences.SAVE_PRIMARY_SORT_DESCENDING));\n+        saveSecDesc.setSelected(_prefs.getBoolean(JabRefPreferences.SAVE_SECONDARY_SORT_DESCENDING));\n+        saveTerDesc.setSelected(_prefs.getBoolean(JabRefPreferences.SAVE_TERTIARY_SORT_DESCENDING));\n+\n+        if (_prefs.getBoolean(JabRefPreferences.EXPORT_IN_ORIGINAL_ORDER)) {\n+            exportInOriginalOrder.setSelected(true);\n+        } else if (_prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER)) {\n+            exportInSpecifiedOrder.setSelected(true);\n+        } else {\n+            exportInTableOrder.setSelected(true);\n+        }\n+\n+        {\n+            boolean selected = _prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER);\n+            exportPriSort.setEnabled(selected);\n+            exportPriField.setEnabled(selected);\n+            exportPriDesc.setEnabled(selected);\n+            exportSecSort.setEnabled(selected);\n+            exportSecField.setEnabled(selected);\n+            exportSecDesc.setEnabled(selected);\n+            exportTerSort.setEnabled(selected);\n+            exportTerField.setEnabled(selected);\n+            exportTerDesc.setEnabled(selected);\n+        }\n+\n+        exportPriField.setText(_prefs.get(JabRefPreferences.EXPORT_PRIMARY_SORT_FIELD));\n+        exportSecField.setText(_prefs.get(JabRefPreferences.EXPORT_SECONDARY_SORT_FIELD));\n+        exportTerField.setText(_prefs.get(JabRefPreferences.EXPORT_TERTIARY_SORT_FIELD));\n+\n+        exportPriSort.setSelectedIndex(0);\n+        exportSecSort.setSelectedIndex(0);\n+        exportTerSort.setSelectedIndex(0);\n+\n+        exportPriDesc.setSelected(_prefs.getBoolean(JabRefPreferences.EXPORT_PRIMARY_SORT_DESCENDING));\n+        exportSecDesc.setSelected(_prefs.getBoolean(JabRefPreferences.EXPORT_SECONDARY_SORT_DESCENDING));\n+        exportTerDesc.setSelected(_prefs.getBoolean(JabRefPreferences.EXPORT_TERTIARY_SORT_DESCENDING));\n+    }\n+\n+    public void storeSettings() {\n+        _prefs.putBoolean(JabRefPreferences.SAVE_IN_ORIGINAL_ORDER, saveInOriginalOrder.isSelected());\n+        _prefs.putBoolean(JabRefPreferences.SAVE_IN_SPECIFIED_ORDER, saveInSpecifiedOrder.isSelected());\n+\n+        _prefs.putBoolean(JabRefPreferences.SAVE_PRIMARY_SORT_DESCENDING, savePriDesc.isSelected());\n+        _prefs.putBoolean(JabRefPreferences.SAVE_SECONDARY_SORT_DESCENDING, saveSecDesc.isSelected());\n+        _prefs.putBoolean(JabRefPreferences.SAVE_TERTIARY_SORT_DESCENDING, saveTerDesc.isSelected());\n+\n+        _prefs.put(JabRefPreferences.SAVE_PRIMARY_SORT_FIELD, savePriField.getText().toLowerCase().trim());\n+        _prefs.put(JabRefPreferences.SAVE_SECONDARY_SORT_FIELD, saveSecField.getText().toLowerCase().trim());\n+        _prefs.put(JabRefPreferences.SAVE_TERTIARY_SORT_FIELD, saveTerField.getText().toLowerCase().trim());\n+\n+        _prefs.putBoolean(JabRefPreferences.EXPORT_IN_ORIGINAL_ORDER, exportInOriginalOrder.isSelected());\n+        _prefs.putBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER, exportInSpecifiedOrder.isSelected());\n+\n+        _prefs.putBoolean(JabRefPreferences.EXPORT_PRIMARY_SORT_DESCENDING, exportPriDesc.isSelected());\n+        _prefs.putBoolean(JabRefPreferences.EXPORT_SECONDARY_SORT_DESCENDING, exportSecDesc.isSelected());\n+        _prefs.putBoolean(JabRefPreferences.EXPORT_TERTIARY_SORT_DESCENDING, exportTerDesc.isSelected());\n+\n+        _prefs.put(JabRefPreferences.EXPORT_PRIMARY_SORT_FIELD, exportPriField.getText().toLowerCase().trim());\n+        _prefs.put(JabRefPreferences.EXPORT_SECONDARY_SORT_FIELD, exportSecField.getText().toLowerCase().trim());\n+        _prefs.put(JabRefPreferences.EXPORT_TERTIARY_SORT_FIELD, exportTerField.getText().toLowerCase().trim());\n+\n+    }\n+\n+    public boolean readyToClose() {\n+        return true;\n+    }\n+\n+    public String getTabName() {\n+        return Globals.lang(\"File Sorting\");\n+    }\n+}, @@ -39,8 +39,6 @@\n             promptBeforeUsingAutoSave, includeEmptyFields, camelCase, sameColumn;\n     private JComboBox valueDelimiter;\n     private JRadioButton\n-        saveOriginalOrder, saveAuthorOrder, saveTableOrder, saveTitleOrder,\n-        exportOriginalOrder, exportAuthorOrder, exportTableOrder, exportTitleOrder,\n         resolveStringsStandard, resolveStringsAll;\n     private JTextField bracesAroundCapitalsFields, nonWrappableFields,\n             doNotResolveStringsFor;\n@@ -56,14 +54,6 @@ public FileTab(JabRefFrame frame, JabRefPreferences prefs) {\n                 GUIGlobals.getIconUrl(\"helpSmall\"));\n         openLast = new JCheckBox(Globals.lang(\"Open last edited databases at startup\"));\n         backup = new JCheckBox(Globals.lang(\"Backup old file when saving\"));\n-        saveAuthorOrder = new JRadioButton(Globals.lang(\"Save ordered by author/editor/year\"));\n-        exportAuthorOrder = new JRadioButton(Globals.lang(\"Export ordered by author/editor/year\"));\n-        saveOriginalOrder = new JRadioButton(Globals.lang(\"Save entries in their original order\"));\n-        exportOriginalOrder = new JRadioButton(Globals.lang(\"Export entries in their original order\"));\n-        saveTableOrder = new JRadioButton(Globals.lang(\"Save in current table sort order\"));\n-        exportTableOrder = new JRadioButton(Globals.lang(\"Export in current table sort order\"));\n-        saveTitleOrder = new JRadioButton(Globals.lang(\"Save entries ordered by title\"));\n-        exportTitleOrder = new JRadioButton(Globals.lang(\"Export entries ordered by title\"));\n         autoSave = new JCheckBox(Globals.lang(\"Autosave\"));\n         promptBeforeUsingAutoSave = new JCheckBox(Globals.lang(\"Prompt before recovering a database from an autosave file\"));\n         autoSaveInterval = new JSpinner(new SpinnerNumberModel(1, 1, 60, 1));\n@@ -73,19 +63,9 @@ public FileTab(JabRefFrame frame, JabRefPreferences prefs) {\n         includeEmptyFields = new JCheckBox(Globals.lang(\"Include empty fields\"));\n         sameColumn = new JCheckBox(Globals.lang(\"Start field contents in same column\"));\n         camelCase = new JCheckBox(Globals.lang(\"Use camel case for field names (e.g., \\\"HowPublished\\\" instead of \\\"howpublished\\\")\"));\n-        ButtonGroup bg = new ButtonGroup();\n-        bg.add(saveAuthorOrder);\n-        bg.add(saveOriginalOrder);\n-        bg.add(saveTableOrder);\n-        bg.add(saveTitleOrder);\n-        bg = new ButtonGroup();\n-        bg.add(exportAuthorOrder);\n-        bg.add(exportOriginalOrder);\n-        bg.add(exportTableOrder);\n-        bg.add(exportTitleOrder);\n         resolveStringsAll = new JRadioButton(Globals.lang(\"Resolve strings for all fields except\")+\":\");\n         resolveStringsStandard = new JRadioButton(Globals.lang(\"Resolve strings for standard BibTeX fields only\"));\n-        bg = new ButtonGroup();\n+        ButtonGroup bg = new ButtonGroup();\n         bg.add(resolveStringsAll);\n         bg.add(resolveStringsStandard);\n \n@@ -144,19 +124,6 @@ public void stateChanged(ChangeEvent changeEvent) {\n         builder.nextLine();\n         builder.append(promptBeforeUsingAutoSave);\n         builder.nextLine();\n-        builder.appendSeparator(Globals.lang(\"Sort order\"));\n-        builder.append(saveAuthorOrder, 1);\n-        builder.append(exportAuthorOrder, 1);\n-        builder.nextLine();\n-        builder.append(saveTableOrder, 1);\n-        builder.append(exportTableOrder, 1);\n-        builder.nextLine();\n-        builder.append(saveOriginalOrder, 1);\n-        builder.append(exportOriginalOrder, 1);\n-        builder.nextLine();\n-        builder.append(saveTitleOrder, 1);\n-        builder.append(exportTitleOrder, 1);\n-        builder.nextLine();\n         builder.appendSeparator(Globals.lang(\"Field saving options\"));\n         builder.nextLine();\n         builder.append(camelCase);\n@@ -184,23 +151,7 @@ public void stateChanged(ChangeEvent changeEvent) {\n     public void setValues() {\n         openLast.setSelected(_prefs.getBoolean(\"openLastEdited\"));\n         backup.setSelected(_prefs.getBoolean(\"backup\"));\n-        if (_prefs.getBoolean(\"saveInStandardOrder\"))\n-            saveAuthorOrder.setSelected(true);\n-        else if (_prefs.getBoolean(\"saveInOriginalOrder\"))\n-            saveOriginalOrder.setSelected(true);\n-        else if (_prefs.getBoolean(\"saveInTitleOrder\"))\n-            saveTitleOrder.setSelected(true);\n-        else\n-            saveTableOrder.setSelected(true);\n-        if (_prefs.getBoolean(\"exportInStandardOrder\"))\n-            exportAuthorOrder.setSelected(true);\n-        else if (_prefs.getBoolean(\"exportInOriginalOrder\"))\n-            exportOriginalOrder.setSelected(true);\n-        else if (_prefs.getBoolean(\"exportInTitleOrder\"))\n-            exportTitleOrder.setSelected(true);\n-        else\n-            exportTableOrder.setSelected(true);\n-\n+        \n         //preserveFormatting.setSelected(_prefs.getBoolean(\"preserveFieldFormatting\"));\n         autoDoubleBraces.setSelected(_prefs.getBoolean(\"autoDoubleBraces\"));\n         resolveStringsAll.setSelected(_prefs.getBoolean(\"resolveStringsAllFields\"));\n@@ -222,12 +173,6 @@ else if (_prefs.getBoolean(\"exportInTitleOrder\"))\n     public void storeSettings() {\n         _prefs.putBoolean(\"backup\", backup.isSelected());\n         _prefs.putBoolean(\"openLastEdited\", openLast.isSelected());\n-        _prefs.putBoolean(\"saveInStandardOrder\", saveAuthorOrder.isSelected());\n-        _prefs.putBoolean(\"saveInOriginalOrder\", saveOriginalOrder.isSelected());\n-        _prefs.putBoolean(\"saveInTitleOrder\", saveTitleOrder.isSelected());\n-        _prefs.putBoolean(\"exportInStandardOrder\", exportAuthorOrder.isSelected());\n-        _prefs.putBoolean(\"exportInOriginalOrder\", exportOriginalOrder.isSelected());\n-        _prefs.putBoolean(\"exportInTitleOrder\", exportTitleOrder.isSelected());\n         _prefs.putBoolean(\"autoDoubleBraces\", autoDoubleBraces.isSelected());\n         _prefs.putBoolean(\"resolveStringsAllFields\", resolveStringsAll.isSelected());\n         _prefs.put(\"doNotResolveStringsFor\", doNotResolveStringsFor.getText().trim());, @@ -1,18 +1,18 @@\n /*  Copyright (C) 2003-2012 JabRef contributors.\n-    This program is free software; you can redistribute it and/or modify\n-    it under the terms of the GNU General Public License as published by\n-    the Free Software Foundation; either version 2 of the License, or\n-    (at your option) any later version.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU General Public License for more details.\n-\n-    You should have received a copy of the GNU General Public License along\n-    with this program; if not, write to the Free Software Foundation, Inc.,\n-    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n-*/\n+ This program is free software; you can redistribute it and/or modify\n+ it under the terms of the GNU General Public License as published by\n+ the Free Software Foundation; either version 2 of the License, or\n+ (at your option) any later version.\n+\n+ This program is distributed in the hope that it will be useful,\n+ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ GNU General Public License for more details.\n+\n+ You should have received a copy of the GNU General Public License along\n+ with this program; if not, write to the Free Software Foundation, Inc.,\n+ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n+ */\n package net.sf.jabref;\n \n import java.awt.Color;\n@@ -54,69 +54,84 @@\n \n public class JabRefPreferences {\n \n-    public final static String\n-        CUSTOM_TYPE_NAME = \"customTypeName_\",\n-        CUSTOM_TYPE_REQ = \"customTypeReq_\",\n-        CUSTOM_TYPE_OPT = \"customTypeOpt_\",\n-        CUSTOM_TYPE_PRIOPT = \"customTypePriOpt_\",\n-        CUSTOM_TAB_NAME = \"customTabName_\",\n-        CUSTOM_TAB_FIELDS = \"customTabFields_\",\n-        EMACS_PATH = \"emacsPath\",\n-        EMACS_ADDITIONAL_PARAMETERS = \"emacsParameters\",\n-        EMACS_23 = \"emacsUseV23InsertString\",\n-        EDIT_GROUP_MEMBERSHIP_MODE = \"groupEditGroupMembershipMode\",\n-        \n-        PDF_PREVIEW = \"pdfPreview\",\n-\n-        SHOWONELETTERHEADINGFORICONCOLUMNS = \"showOneLetterHeadingForIconColumns\",\n-\n-        EDITOR_EMACS_KEYBINDINGS = \"editorEMACSkeyBindings\",\n-        EDITOR_EMACS_KEYBINDINGS_REBIND_CA = \"editorEMACSkeyBindingsRebindCA\",\n-\n-        SHORTEST_TO_COMPLETE = \"shortestToComplete\",\n-        AUTOCOMPLETE_FIRSTNAME_MODE = \"autoCompFirstNameMode\",\n-        // here are the possible values for _MODE:\n-        AUTOCOMPLETE_FIRSTNAME_MODE_BOTH = \"both\",\n-        AUTOCOMPLETE_FIRSTNAME_MODE_ONLY_FULL = \"fullOnly\",\n-        AUTOCOMPLETE_FIRSTNAME_MODE_ONLY_ABBR = \"abbrOnly\",\n-\n-        WRITEFIELD_ADDSPACES = \"writeFieldAddSpaces\",\n-        WRITEFIELD_CAMELCASENAME = \"writeFieldCamelCase\",\n-\n-        UPDATE_TIMESTAMP = \"updateTimestamp\";\n+    public final static String CUSTOM_TYPE_NAME = \"customTypeName_\",\n+            CUSTOM_TYPE_REQ = \"customTypeReq_\",\n+            CUSTOM_TYPE_OPT = \"customTypeOpt_\",\n+            CUSTOM_TYPE_PRIOPT = \"customTypePriOpt_\",\n+            CUSTOM_TAB_NAME = \"customTabName_\",\n+            CUSTOM_TAB_FIELDS = \"customTabFields_\",\n+            EMACS_PATH = \"emacsPath\",\n+            EMACS_ADDITIONAL_PARAMETERS = \"emacsParameters\",\n+            EMACS_23 = \"emacsUseV23InsertString\",\n+            EDIT_GROUP_MEMBERSHIP_MODE = \"groupEditGroupMembershipMode\",\n+            PDF_PREVIEW = \"pdfPreview\",\n+            SHOWONELETTERHEADINGFORICONCOLUMNS = \"showOneLetterHeadingForIconColumns\",\n+            EDITOR_EMACS_KEYBINDINGS = \"editorEMACSkeyBindings\",\n+            EDITOR_EMACS_KEYBINDINGS_REBIND_CA = \"editorEMACSkeyBindingsRebindCA\",\n+            SHORTEST_TO_COMPLETE = \"shortestToComplete\",\n+            AUTOCOMPLETE_FIRSTNAME_MODE = \"autoCompFirstNameMode\",\n+            // here are the possible values for _MODE:\n+            AUTOCOMPLETE_FIRSTNAME_MODE_BOTH = \"both\",\n+            AUTOCOMPLETE_FIRSTNAME_MODE_ONLY_FULL = \"fullOnly\",\n+            AUTOCOMPLETE_FIRSTNAME_MODE_ONLY_ABBR = \"abbrOnly\",\n+            WRITEFIELD_ADDSPACES = \"writeFieldAddSpaces\",\n+            WRITEFIELD_CAMELCASENAME = \"writeFieldCamelCase\",\n+            UPDATE_TIMESTAMP = \"updateTimestamp\",\n+            PRIMARY_SORT_FIELD = \"priSort\",\n+            PRIMARY_SORT_DESCENDING = \"priDescending\",\n+            SECONDARY_SORT_FIELD = \"secSort\",\n+            SECONDARY_SORT_DESCENDING = \"secDescending\",\n+            TERTIARY_SORT_FIELD = \"terSort\",\n+            TERTIARY_SORT_DESCENDING = \"terDescending\",\n+            SAVE_IN_ORIGINAL_ORDER = \"saveInOriginalOrder\",\n+            SAVE_IN_SPECIFIED_ORDER = \"saveInSpecifiedOrder\",\n+            SAVE_PRIMARY_SORT_FIELD = \"savePriSort\",\n+            SAVE_PRIMARY_SORT_DESCENDING = \"savePriDescending\",\n+            SAVE_SECONDARY_SORT_FIELD = \"saveSecSort\",\n+            SAVE_SECONDARY_SORT_DESCENDING = \"saveSecDescending\",\n+            SAVE_TERTIARY_SORT_FIELD = \"saveTerSort\",\n+            SAVE_TERTIARY_SORT_DESCENDING = \"saveTerDescending\",\n+            EXPORT_IN_ORIGINAL_ORDER = \"exportInOriginalOrder\",\n+            EXPORT_IN_SPECIFIED_ORDER = \"exportInSpecifiedOrder\",\n+            EXPORT_PRIMARY_SORT_FIELD = \"exportPriSort\",\n+            EXPORT_PRIMARY_SORT_DESCENDING = \"exportPriDescending\",\n+            EXPORT_SECONDARY_SORT_FIELD = \"exportSecSort\",\n+            EXPORT_SECONDARY_SORT_DESCENDING = \"exportSecDescending\",\n+            EXPORT_TERTIARY_SORT_FIELD = \"exportTerSort\",\n+            EXPORT_TERTIARY_SORT_DESCENDING = \"exportTerDescending\";\n \n     // This String is used in the encoded list in prefs of external file type\n     // modifications, in order to indicate a removed default file type:\n     public static final String FILE_TYPE_REMOVED_FLAG = \"REMOVED\";\n \n-    private static final char[][] VALUE_DELIMITERS =\n-            new char[][]{ {'\"', '\"'}, {'{', '}'} };\n+    private static final char[][] VALUE_DELIMITERS\n+            = new char[][]{{'\"', '\"'}, {'{', '}'}};\n \n     public String WRAPPED_USERNAME, MARKING_WITH_NUMBER_PATTERN;\n \n     Preferences prefs;\n     public HashMap<String, Object> defaults = new HashMap<String, Object>();\n-    public HashMap<String, String>\n-        keyBinds = new HashMap<String, String>(),\n-        defKeyBinds = new HashMap<String, String>();\n+    public HashMap<String, String> keyBinds = new HashMap<String, String>(),\n+            defKeyBinds = new HashMap<String, String>();\n     private HashSet<String> putBracesAroundCapitalsFields = new HashSet<String>(4);\n     private HashSet<String> nonWrappableFields = new HashSet<String>(5);\n     private static LabelPattern keyPattern;\n \n     // Object containing custom export formats:\n     public CustomExportList customExports;\n \n-    /** Set with all custom {@link net.sf.jabref.imports.ImportFormat}s */\n+    /**\n+     * Set with all custom {@link net.sf.jabref.imports.ImportFormat}s\n+     */\n     public CustomImportList customImports;\n \n     // Object containing info about customized entry editor tabs.\n     private EntryEditorTabList tabList = null;\n-\n     // Map containing all registered external file types:\n     private TreeSet<ExternalFileType> externalFileTypes = new TreeSet<ExternalFileType>();\n \n-    public final ExternalFileType HTML_FALLBACK_TYPE =\n-            new ExternalFileType(\"URL\", \"html\", \"text/html\", \"\", \"www\");\n+    public final ExternalFileType HTML_FALLBACK_TYPE\n+            = new ExternalFileType(\"URL\", \"html\", \"text/html\", \"\", \"www\");\n \n     // The following field is used as a global variable during the export of a database.\n     // By setting this field to the path of the database's default file directory, formatters\n@@ -133,69 +148,120 @@\n     // The following field is used as a global variable during the export of a database.\n     // It is used to hold custom name formatters defined by a custom export filter.\n     // It is set before the export starts:\n-    public HashMap<String,String> customExportNameFormatters = null;\n+    public HashMap<String, String> customExportNameFormatters = null;\n \n     // The only instance of this class:\n     private static JabRefPreferences singleton = null;\n \n     public static JabRefPreferences getInstance() {\n-\t\tif (singleton == null)\n-\t\t\tsingleton = new JabRefPreferences();\n-\t\treturn singleton;\n-\t}\n+        if (singleton == null) {\n+            singleton = new JabRefPreferences();\n+        }\n+        return singleton;\n+    }\n+\n+    // Upgrade the preferences for the current version\n+    // The old preference is kept in case an old version of JabRef is used with \n+    // these preferences, but it is only used when the new preference does not \n+    // exist\n+    private void upgradeOldPreferences() {\n+        if (prefs.get(SAVE_IN_SPECIFIED_ORDER, null) == null) {\n+            if (prefs.getBoolean(\"saveInStandardOrder\", false)) {\n+                putBoolean(SAVE_IN_SPECIFIED_ORDER, true);\n+                put(SAVE_PRIMARY_SORT_FIELD, \"author\");\n+                put(SAVE_SECONDARY_SORT_FIELD, \"editor\");\n+                put(SAVE_TERTIARY_SORT_FIELD, \"year\");\n+                putBoolean(SAVE_PRIMARY_SORT_DESCENDING, false);\n+                putBoolean(SAVE_SECONDARY_SORT_DESCENDING, false);\n+                putBoolean(SAVE_TERTIARY_SORT_DESCENDING, false);\n+            } else if (prefs.getBoolean(\"saveInTitleOrder\", false)) {\n+                // saveInTitleOrder => title, author, editor\n+                putBoolean(SAVE_IN_SPECIFIED_ORDER, true);\n+                put(SAVE_PRIMARY_SORT_FIELD, \"title\");\n+                put(SAVE_SECONDARY_SORT_FIELD, \"author\");\n+                put(SAVE_TERTIARY_SORT_FIELD, \"editor\");\n+                putBoolean(SAVE_PRIMARY_SORT_DESCENDING, false);\n+                putBoolean(SAVE_SECONDARY_SORT_DESCENDING, false);\n+                putBoolean(SAVE_TERTIARY_SORT_DESCENDING, false);\n+            }\n+        }\n+        \n+        if (prefs.get(EXPORT_IN_SPECIFIED_ORDER, null) == null) {\n+            if (prefs.getBoolean(\"exportInStandardOrder\", false)) {\n+                putBoolean(EXPORT_IN_SPECIFIED_ORDER, true);\n+                put(EXPORT_PRIMARY_SORT_FIELD, \"author\");\n+                put(EXPORT_SECONDARY_SORT_FIELD, \"editor\");\n+                put(EXPORT_TERTIARY_SORT_FIELD, \"year\");\n+                putBoolean(EXPORT_PRIMARY_SORT_DESCENDING, false);\n+                putBoolean(EXPORT_SECONDARY_SORT_DESCENDING, false);\n+                putBoolean(EXPORT_TERTIARY_SORT_DESCENDING, false);\n+            } else if (prefs.getBoolean(\"exportInTitleOrder\", false)) {\n+                // exportInTitleOrder => title, author, editor\n+                putBoolean(EXPORT_IN_SPECIFIED_ORDER, true);\n+                put(EXPORT_PRIMARY_SORT_FIELD, \"title\");\n+                put(EXPORT_SECONDARY_SORT_FIELD, \"author\");\n+                put(EXPORT_TERTIARY_SORT_FIELD, \"editor\");\n+                putBoolean(EXPORT_PRIMARY_SORT_DESCENDING, false);\n+                putBoolean(EXPORT_SECONDARY_SORT_DESCENDING, false);\n+                putBoolean(EXPORT_TERTIARY_SORT_DESCENDING, false);\n+            }\n+        }\n+    }\n \n     // The constructor is made private to enforce this as a singleton class:\n     private JabRefPreferences() {\n \n         try {\n-            if (new File(\"jabref.xml\").exists()){\n+            if (new File(\"jabref.xml\").exists()) {\n                 importPreferences(\"jabref.xml\");\n             }\n         } catch (IOException e) {\n             Globals.logger(\"Could not import preferences from jabref.xml:\" + e.getLocalizedMessage());\n         }\n-        \n+\n+        // load user preferences \n         prefs = Preferences.userNodeForPackage(JabRef.class);\n-        \n+        upgradeOldPreferences();\n+\n         if (Globals.osName.equals(Globals.MAC)) {\n-\t\t\t//defaults.put(\"pdfviewer\", \"/Applications/Preview.app\");\n-\t\t\t//defaults.put(\"psviewer\", \"/Applications/Preview.app\");\n-\t\t\t//defaults.put(\"htmlviewer\", \"/Applications/Safari.app\");\n-        \tdefaults.put(EMACS_PATH, \"emacsclient\");\n-        \tdefaults.put(EMACS_23, true);\n-        \tdefaults.put(EMACS_ADDITIONAL_PARAMETERS, \"-n -e\");\n+            //defaults.put(\"pdfviewer\", \"/Applications/Preview.app\");\n+            //defaults.put(\"psviewer\", \"/Applications/Preview.app\");\n+            //defaults.put(\"htmlviewer\", \"/Applications/Safari.app\");\n+            defaults.put(EMACS_PATH, \"emacsclient\");\n+            defaults.put(EMACS_23, true);\n+            defaults.put(EMACS_ADDITIONAL_PARAMETERS, \"-n -e\");\n             defaults.put(\"fontFamily\", \"SansSerif\");\n \n-\t\t} else if (Globals.osName.toLowerCase().startsWith(\"windows\")) {\n-\t\t\t//defaults.put(\"pdfviewer\", \"cmd.exe /c start /b\");\n-\t\t\t//defaults.put(\"psviewer\", \"cmd.exe /c start /b\");\n-\t\t\t//defaults.put(\"htmlviewer\", \"cmd.exe /c start /b\");\n-\t\t\tdefaults.put(\"lookAndFeel\", \"com.jgoodies.looks.windows.WindowsLookAndFeel\");\n+        } else if (Globals.osName.toLowerCase().startsWith(\"windows\")) {\n+            //defaults.put(\"pdfviewer\", \"cmd.exe /c start /b\");\n+            //defaults.put(\"psviewer\", \"cmd.exe /c start /b\");\n+            //defaults.put(\"htmlviewer\", \"cmd.exe /c start /b\");\n+            defaults.put(\"lookAndFeel\", \"com.jgoodies.looks.windows.WindowsLookAndFeel\");\n             defaults.put(\"winEdtPath\", \"C:\\\\Program Files\\\\WinEdt Team\\\\WinEdt\\\\WinEdt.exe\");\n             defaults.put(\"latexEditorPath\", \"C:\\\\Program Files\\\\LEd\\\\LEd.exe\");\n-        \tdefaults.put(EMACS_PATH, \"emacsclient.exe\");\n-        \tdefaults.put(EMACS_23, true);\n-        \tdefaults.put(EMACS_ADDITIONAL_PARAMETERS, \"-n -e\");\n+            defaults.put(EMACS_PATH, \"emacsclient.exe\");\n+            defaults.put(EMACS_23, true);\n+            defaults.put(EMACS_ADDITIONAL_PARAMETERS, \"-n -e\");\n             defaults.put(\"fontFamily\", \"Arial\");\n \n         } else {\n-\t\t\t//defaults.put(\"pdfviewer\", \"evince\");\n-\t\t\t//defaults.put(\"psviewer\", \"gv\");\n-\t\t\t//defaults.put(\"htmlviewer\", \"firefox\");\n-\t\t\tdefaults.put(\"lookAndFeel\", \"com.jgoodies.plaf.plastic.Plastic3DLookAndFeel\");\n+            //defaults.put(\"pdfviewer\", \"evince\");\n+            //defaults.put(\"psviewer\", \"gv\");\n+            //defaults.put(\"htmlviewer\", \"firefox\");\n+            defaults.put(\"lookAndFeel\", \"com.jgoodies.plaf.plastic.Plastic3DLookAndFeel\");\n             defaults.put(\"fontFamily\", \"SansSerif\");\n-            \n-        \t// linux\n-        \tdefaults.put(EMACS_PATH, \"gnuclient\");\n-        \tdefaults.put(EMACS_23, false);\n-        \tdefaults.put(EMACS_ADDITIONAL_PARAMETERS, \"-batch -eval\");\n-\t\t}\n-\t\tdefaults.put(\"useProxy\", Boolean.FALSE);\n+\n+            // linux\n+            defaults.put(EMACS_PATH, \"gnuclient\");\n+            defaults.put(EMACS_23, false);\n+            defaults.put(EMACS_ADDITIONAL_PARAMETERS, \"-batch -eval\");\n+        }\n+        defaults.put(\"useProxy\", Boolean.FALSE);\n         defaults.put(\"proxyHostname\", \"my proxy host\");\n         defaults.put(\"proxyPort\", \"my proxy port\");\n         defaults.put(PDF_PREVIEW, Boolean.FALSE);\n         defaults.put(\"useDefaultLookAndFeel\", Boolean.TRUE);\n-        defaults.put(\"lyxpipe\", System.getProperty(\"user.home\")+File.separator+\".lyx/lyxpipe\");\n+        defaults.put(\"lyxpipe\", System.getProperty(\"user.home\") + File.separator + \".lyx/lyxpipe\");\n         defaults.put(\"vim\", \"vim\");\n         defaults.put(\"vimServer\", \"vim\");\n         defaults.put(\"posX\", new Integer(0));\n@@ -215,20 +281,38 @@ private JabRefPreferences() {\n         defaults.put(\"namesLastOnly\", Boolean.TRUE); // \"Show last names only\"\n         defaults.put(\"language\", \"en\");\n         defaults.put(\"showShort\", Boolean.TRUE);\n-        defaults.put(\"priSort\", \"author\");\n-        defaults.put(\"priDescending\", Boolean.FALSE);\n-        defaults.put(\"priBinary\", Boolean.FALSE);\n-        defaults.put(\"secSort\", \"year\");\n-        defaults.put(\"secDescending\", Boolean.TRUE);\n-        defaults.put(\"terSort\", \"author\");\n-        defaults.put(\"terDescending\", Boolean.FALSE);\n+\n+        // Sorting preferences\n+        defaults.put(PRIMARY_SORT_FIELD, \"author\");\n+        defaults.put(PRIMARY_SORT_DESCENDING, Boolean.FALSE);\n+        defaults.put(SECONDARY_SORT_FIELD, \"year\");\n+        defaults.put(SECONDARY_SORT_DESCENDING, Boolean.TRUE);\n+        defaults.put(TERTIARY_SORT_FIELD, \"author\");\n+        defaults.put(TERTIARY_SORT_DESCENDING, Boolean.FALSE);\n+        defaults.put(SAVE_IN_ORIGINAL_ORDER, Boolean.FALSE);\n+        defaults.put(SAVE_IN_SPECIFIED_ORDER, Boolean.FALSE);\n+        defaults.put(SAVE_PRIMARY_SORT_FIELD, \"bibtexkey\");\n+        defaults.put(SAVE_PRIMARY_SORT_DESCENDING, Boolean.FALSE);\n+        defaults.put(SAVE_SECONDARY_SORT_FIELD, \"author\");\n+        defaults.put(SAVE_SECONDARY_SORT_DESCENDING, Boolean.TRUE);\n+        defaults.put(SAVE_TERTIARY_SORT_FIELD, \"\");\n+        defaults.put(SAVE_TERTIARY_SORT_DESCENDING, Boolean.TRUE);\n+        defaults.put(EXPORT_IN_ORIGINAL_ORDER, Boolean.FALSE);\n+        defaults.put(EXPORT_IN_SPECIFIED_ORDER, Boolean.FALSE);\n+        defaults.put(EXPORT_PRIMARY_SORT_FIELD, \"bibtexkey\");\n+        defaults.put(EXPORT_PRIMARY_SORT_DESCENDING, Boolean.FALSE);\n+        defaults.put(EXPORT_SECONDARY_SORT_FIELD, \"author\");\n+        defaults.put(EXPORT_SECONDARY_SORT_DESCENDING, Boolean.TRUE);\n+        defaults.put(EXPORT_TERTIARY_SORT_FIELD, \"\");\n+        defaults.put(EXPORT_TERTIARY_SORT_DESCENDING, Boolean.TRUE);\n+\n         defaults.put(\"columnNames\", \"entrytype;author;title;year;journal;owner;timestamp;bibtexkey\");\n-        defaults.put(\"columnWidths\",\"75;280;400;60;100;100;100;100\");\n-        defaults.put(PersistenceTableColumnListener.ACTIVATE_PREF_KEY, \n-        \t\tnew Boolean(PersistenceTableColumnListener.DEFAULT_ENABLED));\n+        defaults.put(\"columnWidths\", \"75;280;400;60;100;100;100;100\");\n+        defaults.put(PersistenceTableColumnListener.ACTIVATE_PREF_KEY,\n+                new Boolean(PersistenceTableColumnListener.DEFAULT_ENABLED));\n         defaults.put(\"xmpPrivacyFilters\", \"pdf;timestamp;keywords;owner;note;review\");\n         defaults.put(\"useXmpPrivacyFilter\", Boolean.FALSE);\n-        defaults.put(\"numberColWidth\",new Integer(GUIGlobals.NUMBER_COL_LENGTH));\n+        defaults.put(\"numberColWidth\", new Integer(GUIGlobals.NUMBER_COL_LENGTH));\n         defaults.put(\"workingDirectory\", System.getProperty(\"user.home\"));\n         defaults.put(\"exportWorkingDirectory\", System.getProperty(\"user.home\"));\n         defaults.put(\"importWorkingDirectory\", System.getProperty(\"user.home\"));\n@@ -253,12 +337,7 @@ private JabRefPreferences() {\n         defaults.put(\"searchAll\", Boolean.FALSE);\n         defaults.put(\"incrementS\", Boolean.FALSE);\n         defaults.put(\"searchAutoComplete\", Boolean.TRUE);\n-        defaults.put(\"saveInStandardOrder\", Boolean.TRUE);\n-        defaults.put(\"saveInOriginalOrder\", Boolean.FALSE);\n-        defaults.put(\"saveInTitleOrder\", Boolean.FALSE);\n-        defaults.put(\"exportInStandardOrder\", Boolean.TRUE);\n-        defaults.put(\"exportInOriginalOrder\", Boolean.FALSE);\n-        defaults.put(\"exportInTitleOrder\", Boolean.FALSE);\n+\n         defaults.put(\"selectS\", Boolean.FALSE);\n         defaults.put(\"regExpSearch\", Boolean.TRUE);\n         defaults.put(\"highLightWords\", Boolean.TRUE);\n@@ -284,7 +363,7 @@ private JabRefPreferences() {\n         defaults.put(\"groupExpandTree\", Boolean.TRUE);\n         defaults.put(\"groupAutoShow\", Boolean.TRUE);\n         defaults.put(\"groupAutoHide\", Boolean.TRUE);\n-        defaults.put(JabRefPreferences.GROUP_SHOW_NUMBER_OF_ELEMENTS, Boolean.FALSE);\n+        defaults.put(GROUP_SHOW_NUMBER_OF_ELEMENTS, Boolean.FALSE);\n         defaults.put(\"autoAssignGroup\", Boolean.TRUE);\n         defaults.put(\"groupKeywordSeparator\", \", \");\n         defaults.put(EDIT_GROUP_MEMBERSHIP_MODE, Boolean.FALSE);\n@@ -298,9 +377,9 @@ private JabRefPreferences() {\n         defaults.put(\"memoryStickMode\", Boolean.FALSE);\n         defaults.put(\"renameOnMoveFileToFileDir\", Boolean.TRUE);\n \n-    // The general fields stuff is made obsolete by the CUSTOM_TAB_... entries.\n-        defaults.put(\"generalFields\", \"crossref;keywords;file;doi;url;urldate;\"+\n-                     \"pdf;comment;owner\");\n+        // The general fields stuff is made obsolete by the CUSTOM_TAB_... entries.\n+        defaults.put(\"generalFields\", \"crossref;keywords;file;doi;url;urldate;\"\n+                + \"pdf;comment;owner\");\n \n         defaults.put(\"useCustomIconTheme\", Boolean.FALSE);\n         defaults.put(\"customIconThemeFile\", \"/home/alver/div/crystaltheme_16/Icons.properties\");\n@@ -344,18 +423,18 @@ private JabRefPreferences() {\n         defaults.put(\"preferUrlDoi\", Boolean.FALSE);\n         defaults.put(\"fileColumn\", Boolean.TRUE);\n         defaults.put(\"arxivColumn\", Boolean.FALSE);\n-        \n+\n         defaults.put(SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED, SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED_DEFAULT);\n         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY, SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY_DEFAULT);\n         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY, SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY_DEFAULT);\n         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING, SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING_DEFAULT);\n         defaults.put(SpecialFieldsUtils.PREF_RANKING_COMPACT, SpecialFieldsUtils.PREF_RANKING_COMPACT_DEFAULT);\n         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE, SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE_DEFAULT);\n         defaults.put(SpecialFieldsUtils.PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS, SpecialFieldsUtils.PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS_DEFAULT);\n-    \tdefaults.put(SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS, SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS_DEFAULT);\n-    \t\n-    \tdefaults.put(SHOWONELETTERHEADINGFORICONCOLUMNS, Boolean.FALSE);\n-        \n+        defaults.put(SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS, SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS_DEFAULT);\n+\n+        defaults.put(SHOWONELETTERHEADINGFORICONCOLUMNS, Boolean.FALSE);\n+\n         defaults.put(\"useOwner\", Boolean.TRUE);\n         defaults.put(\"overwriteOwner\", Boolean.FALSE);\n         defaults.put(\"allowTableEditing\", Boolean.FALSE);\n@@ -373,49 +452,48 @@ private JabRefPreferences() {\n         defaults.put(\"previewEnabled\", Boolean.TRUE);\n         defaults.put(\"activePreview\", 0);\n         defaults.put(\"preview0\", \"<font face=\\\"arial\\\">\"\n-                     +\"<b><i>\\\\bibtextype</i><a name=\\\"\\\\bibtexkey\\\">\\\\begin{bibtexkey} (\\\\bibtexkey)</a>\"\n-                     +\"\\\\end{bibtexkey}</b><br>__NEWLINE__\"\n-                     +\"\\\\begin{author} \\\\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\\\author}<BR>\\\\end{author}__NEWLINE__\"\n-                     +\"\\\\begin{editor} \\\\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\\\editor} \"\n-                     +\"<i>(\\\\format[IfPlural(Eds.,Ed.)]{\\\\editor})</i><BR>\\\\end{editor}__NEWLINE__\"\n-                     +\"\\\\begin{title} \\\\format[HTMLChars]{\\\\title} \\\\end{title}<BR>__NEWLINE__\"\n-                     +\"\\\\begin{chapter} \\\\format[HTMLChars]{\\\\chapter}<BR>\\\\end{chapter}__NEWLINE__\"\n-                     +\"\\\\begin{journal} <em>\\\\format[HTMLChars]{\\\\journal}, </em>\\\\end{journal}__NEWLINE__\"\n-                     // Include the booktitle field for @inproceedings, @proceedings, etc.\n-                     +\"\\\\begin{booktitle} <em>\\\\format[HTMLChars]{\\\\booktitle}, </em>\\\\end{booktitle}__NEWLINE__\"\n-                     +\"\\\\begin{school} <em>\\\\format[HTMLChars]{\\\\school}, </em>\\\\end{school}__NEWLINE__\"\n-                     +\"\\\\begin{institution} <em>\\\\format[HTMLChars]{\\\\institution}, </em>\\\\end{institution}__NEWLINE__\"\n-                     +\"\\\\begin{publisher} <em>\\\\format[HTMLChars]{\\\\publisher}, </em>\\\\end{publisher}__NEWLINE__\"\n-                     +\"\\\\begin{year}<b>\\\\year</b>\\\\end{year}\\\\begin{volume}<i>, \\\\volume</i>\\\\end{volume}\"\n-                     +\"\\\\begin{pages}, \\\\format[FormatPagesForHTML]{\\\\pages} \\\\end{pages}__NEWLINE__\"\n-                     +\"\\\\begin{abstract}<BR><BR><b>Abstract: </b> \\\\format[HTMLChars]{\\\\abstract} \\\\end{abstract}__NEWLINE__\"\n-                     +\"\\\\begin{review}<BR><BR><b>Review: </b> \\\\format[HTMLChars]{\\\\review} \\\\end{review}\"\n-                     +\"</dd>__NEWLINE__<p></p></font>\");\n+                + \"<b><i>\\\\bibtextype</i><a name=\\\"\\\\bibtexkey\\\">\\\\begin{bibtexkey} (\\\\bibtexkey)</a>\"\n+                + \"\\\\end{bibtexkey}</b><br>__NEWLINE__\"\n+                + \"\\\\begin{author} \\\\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\\\author}<BR>\\\\end{author}__NEWLINE__\"\n+                + \"\\\\begin{editor} \\\\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\\\editor} \"\n+                + \"<i>(\\\\format[IfPlural(Eds.,Ed.)]{\\\\editor})</i><BR>\\\\end{editor}__NEWLINE__\"\n+                + \"\\\\begin{title} \\\\format[HTMLChars]{\\\\title} \\\\end{title}<BR>__NEWLINE__\"\n+                + \"\\\\begin{chapter} \\\\format[HTMLChars]{\\\\chapter}<BR>\\\\end{chapter}__NEWLINE__\"\n+                + \"\\\\begin{journal} <em>\\\\format[HTMLChars]{\\\\journal}, </em>\\\\end{journal}__NEWLINE__\"\n+                // Include the booktitle field for @inproceedings, @proceedings, etc.\n+                + \"\\\\begin{booktitle} <em>\\\\format[HTMLChars]{\\\\booktitle}, </em>\\\\end{booktitle}__NEWLINE__\"\n+                + \"\\\\begin{school} <em>\\\\format[HTMLChars]{\\\\school}, </em>\\\\end{school}__NEWLINE__\"\n+                + \"\\\\begin{institution} <em>\\\\format[HTMLChars]{\\\\institution}, </em>\\\\end{institution}__NEWLINE__\"\n+                + \"\\\\begin{publisher} <em>\\\\format[HTMLChars]{\\\\publisher}, </em>\\\\end{publisher}__NEWLINE__\"\n+                + \"\\\\begin{year}<b>\\\\year</b>\\\\end{year}\\\\begin{volume}<i>, \\\\volume</i>\\\\end{volume}\"\n+                + \"\\\\begin{pages}, \\\\format[FormatPagesForHTML]{\\\\pages} \\\\end{pages}__NEWLINE__\"\n+                + \"\\\\begin{abstract}<BR><BR><b>Abstract: </b> \\\\format[HTMLChars]{\\\\abstract} \\\\end{abstract}__NEWLINE__\"\n+                + \"\\\\begin{review}<BR><BR><b>Review: </b> \\\\format[HTMLChars]{\\\\review} \\\\end{review}\"\n+                + \"</dd>__NEWLINE__<p></p></font>\");\n         defaults.put(\"preview1\", \"<font face=\\\"arial\\\">\"\n-                     +\"<b><i>\\\\bibtextype</i><a name=\\\"\\\\bibtexkey\\\">\\\\begin{bibtexkey} (\\\\bibtexkey)</a>\"\n-                     +\"\\\\end{bibtexkey}</b><br>__NEWLINE__\"\n-                     +\"\\\\begin{author} \\\\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\\\author}<BR>\\\\end{author}__NEWLINE__\"\n-                     +\"\\\\begin{editor} \\\\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\\\editor} \"\n-                     +\"<i>(\\\\format[IfPlural(Eds.,Ed.)]{\\\\editor})</i><BR>\\\\end{editor}__NEWLINE__\"\n-                     +\"\\\\begin{title} \\\\format[HTMLChars]{\\\\title} \\\\end{title}<BR>__NEWLINE__\"\n-                     +\"\\\\begin{chapter} \\\\format[HTMLChars]{\\\\chapter}<BR>\\\\end{chapter}__NEWLINE__\"\n-                     +\"\\\\begin{journal} <em>\\\\format[HTMLChars]{\\\\journal}, </em>\\\\end{journal}__NEWLINE__\"\n-                     // Include the booktitle field for @inproceedings, @proceedings, etc.\n-                     +\"\\\\begin{booktitle} <em>\\\\format[HTMLChars]{\\\\booktitle}, </em>\\\\end{booktitle}__NEWLINE__\"\n-                     +\"\\\\begin{school} <em>\\\\format[HTMLChars]{\\\\school}, </em>\\\\end{school}__NEWLINE__\"\n-                     +\"\\\\begin{institution} <em>\\\\format[HTMLChars]{\\\\institution}, </em>\\\\end{institution}__NEWLINE__\"\n-                     +\"\\\\begin{publisher} <em>\\\\format[HTMLChars]{\\\\publisher}, </em>\\\\end{publisher}__NEWLINE__\"\n-                     +\"\\\\begin{year}<b>\\\\year</b>\\\\end{year}\\\\begin{volume}<i>, \\\\volume</i>\\\\end{volume}\"\n-                     +\"\\\\begin{pages}, \\\\format[FormatPagesForHTML]{\\\\pages} \\\\end{pages}\"\n-                     +\"</dd>__NEWLINE__<p></p></font>\");\n-\n+                + \"<b><i>\\\\bibtextype</i><a name=\\\"\\\\bibtexkey\\\">\\\\begin{bibtexkey} (\\\\bibtexkey)</a>\"\n+                + \"\\\\end{bibtexkey}</b><br>__NEWLINE__\"\n+                + \"\\\\begin{author} \\\\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\\\author}<BR>\\\\end{author}__NEWLINE__\"\n+                + \"\\\\begin{editor} \\\\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\\\editor} \"\n+                + \"<i>(\\\\format[IfPlural(Eds.,Ed.)]{\\\\editor})</i><BR>\\\\end{editor}__NEWLINE__\"\n+                + \"\\\\begin{title} \\\\format[HTMLChars]{\\\\title} \\\\end{title}<BR>__NEWLINE__\"\n+                + \"\\\\begin{chapter} \\\\format[HTMLChars]{\\\\chapter}<BR>\\\\end{chapter}__NEWLINE__\"\n+                + \"\\\\begin{journal} <em>\\\\format[HTMLChars]{\\\\journal}, </em>\\\\end{journal}__NEWLINE__\"\n+                // Include the booktitle field for @inproceedings, @proceedings, etc.\n+                + \"\\\\begin{booktitle} <em>\\\\format[HTMLChars]{\\\\booktitle}, </em>\\\\end{booktitle}__NEWLINE__\"\n+                + \"\\\\begin{school} <em>\\\\format[HTMLChars]{\\\\school}, </em>\\\\end{school}__NEWLINE__\"\n+                + \"\\\\begin{institution} <em>\\\\format[HTMLChars]{\\\\institution}, </em>\\\\end{institution}__NEWLINE__\"\n+                + \"\\\\begin{publisher} <em>\\\\format[HTMLChars]{\\\\publisher}, </em>\\\\end{publisher}__NEWLINE__\"\n+                + \"\\\\begin{year}<b>\\\\year</b>\\\\end{year}\\\\begin{volume}<i>, \\\\volume</i>\\\\end{volume}\"\n+                + \"\\\\begin{pages}, \\\\format[FormatPagesForHTML]{\\\\pages} \\\\end{pages}\"\n+                + \"</dd>__NEWLINE__<p></p></font>\");\n \n         // TODO: Currently not possible to edit this setting:\n         defaults.put(\"previewPrintButton\", Boolean.FALSE);\n         defaults.put(\"autoDoubleBraces\", Boolean.FALSE);\n         defaults.put(\"doNotResolveStringsFor\", \"url\");\n         defaults.put(\"resolveStringsAllFields\", Boolean.FALSE);\n-        defaults.put(\"putBracesAroundCapitals\",\"\");//\"title;journal;booktitle;review;abstract\");\n+        defaults.put(\"putBracesAroundCapitals\", \"\");//\"title;journal;booktitle;review;abstract\");\n         defaults.put(\"nonWrappableFields\", \"pdf;ps;url;doi;file\");\n         defaults.put(\"useImportInspectionDialog\", Boolean.TRUE);\n         defaults.put(\"useImportInspectionDialogForSingle\", Boolean.TRUE);\n@@ -486,36 +564,32 @@ private JabRefPreferences() {\n         defaults.put(\"dbConnectDatabase\", \"jabref\");\n         defaults.put(\"dbConnectUsername\", \"root\");\n         CleanUpAction.putDefaults(defaults);\n-        \n+\n         // defaults for DroppedFileHandler UI\n-    \tdefaults.put(DroppedFileHandler.DFH_LEAVE, Boolean.FALSE);\n-    \tdefaults.put(DroppedFileHandler.DFH_COPY, Boolean.TRUE);\n-    \tdefaults.put(DroppedFileHandler.DFH_MOVE, Boolean.FALSE);\n-    \tdefaults.put(DroppedFileHandler.DFH_RENAME, Boolean.FALSE);\n-        \n+        defaults.put(DroppedFileHandler.DFH_LEAVE, Boolean.FALSE);\n+        defaults.put(DroppedFileHandler.DFH_COPY, Boolean.TRUE);\n+        defaults.put(DroppedFileHandler.DFH_MOVE, Boolean.FALSE);\n+        defaults.put(DroppedFileHandler.DFH_RENAME, Boolean.FALSE);\n+\n         //defaults.put(\"lastAutodetectedImport\", \"\");\n-        \n         //defaults.put(\"autoRemoveExactDuplicates\", Boolean.FALSE);\n         //defaults.put(\"confirmAutoRemoveExactDuplicates\", Boolean.TRUE);\n-        \n         //defaults.put(\"tempDir\", System.getProperty(\"java.io.tmpdir\"));\n         //Util.pr(System.getProperty(\"java.io.tempdir\"));\n-\n         //defaults.put(\"keyPattern\", new LabelPattern(KEY_PATTERN));\n-        \n         defaults.put(ImportSettingsTab.PREF_IMPORT_ALWAYSUSE, Boolean.FALSE);\n         defaults.put(ImportSettingsTab.PREF_IMPORT_DEFAULT_PDF_IMPORT_STYLE, ImportSettingsTab.DEFAULT_STYLE);\n         defaults.put(ImportSettingsTab.PREF_IMPORT_FILENAMEPATTERN, ImportSettingsTab.DEFAULT_FILENAMEPATTERNS[0]);\n-        \n+\n         restoreKeyBindings();\n \n         customExports = new CustomExportList(new ExportComparator());\n         customImports = new CustomImportList(this);\n \n         //defaults.put(\"oooWarning\", Boolean.TRUE);\n         updateSpecialFieldHandling();\n-        WRAPPED_USERNAME = \"[\"+get(\"defaultOwner\")+\"]\";\n-        MARKING_WITH_NUMBER_PATTERN = \"\\\\[\"+get(\"defaultOwner\").replaceAll(\"\\\\\\\\\",\"\\\\\\\\\\\\\\\\\")+\":(\\\\d+)\\\\]\";\n+        WRAPPED_USERNAME = \"[\" + get(\"defaultOwner\") + \"]\";\n+        MARKING_WITH_NUMBER_PATTERN = \"\\\\[\" + get(\"defaultOwner\").replaceAll(\"\\\\\\\\\", \"\\\\\\\\\\\\\\\\\") + \":(\\\\d+)\\\\]\";\n \n         String defaultExpression = \"**/.*[bibtexkey].*\\\\\\\\.[extension]\";\n         defaults.put(DEFAULT_REG_EXP_SEARCH_EXPRESSION_KEY, defaultExpression);\n@@ -526,47 +600,45 @@ private JabRefPreferences() {\n         defaults.put(\"useCaseKeeperOnSearch\", Boolean.TRUE);\n         defaults.put(\"useUnitFormatterOnSearch\", Boolean.TRUE);\n \n-\tdefaults.put(\"userFileDir\", GUIGlobals.FILE_FIELD + \"Directory\");\n-\ttry {\n-\t    defaults.put(\"userFileDirInd_Legacy\", GUIGlobals.FILE_FIELD + \"Directory\" + \"-\" + get(\"defaultOwner\") + \"@\" + InetAddress.getLocalHost().getHostName()); // Legacy setting name - was a bug: @ not allowed inside BibTeX comment text. Retained for backward comp.\n-\t    defaults.put(\"userFileDirIndividual\", GUIGlobals.FILE_FIELD + \"Directory\" + \"-\" + get(\"defaultOwner\") + \"-\" + InetAddress.getLocalHost().getHostName()); // Valid setting name\n-\t}\n-\tcatch(UnknownHostException ex) {\n-\t    Globals.logger(\"Hostname not found.\");\n-\t    defaults.put(\"userFileDirInd_Legacy\", GUIGlobals.FILE_FIELD + \"Directory\" + \"-\" + get(\"defaultOwner\"));\n-\t    defaults.put(\"userFileDirIndividual\", GUIGlobals.FILE_FIELD + \"Directory\" + \"-\" + get(\"defaultOwner\"));\n-\t}\n+        defaults.put(\"userFileDir\", GUIGlobals.FILE_FIELD + \"Directory\");\n+        try {\n+            defaults.put(\"userFileDirInd_Legacy\", GUIGlobals.FILE_FIELD + \"Directory\" + \"-\" + get(\"defaultOwner\") + \"@\" + InetAddress.getLocalHost().getHostName()); // Legacy setting name - was a bug: @ not allowed inside BibTeX comment text. Retained for backward comp.\n+            defaults.put(\"userFileDirIndividual\", GUIGlobals.FILE_FIELD + \"Directory\" + \"-\" + get(\"defaultOwner\") + \"-\" + InetAddress.getLocalHost().getHostName()); // Valid setting name\n+        } catch (UnknownHostException ex) {\n+            Globals.logger(\"Hostname not found.\");\n+            defaults.put(\"userFileDirInd_Legacy\", GUIGlobals.FILE_FIELD + \"Directory\" + \"-\" + get(\"defaultOwner\"));\n+            defaults.put(\"userFileDirIndividual\", GUIGlobals.FILE_FIELD + \"Directory\" + \"-\" + get(\"defaultOwner\"));\n+        }\n     }\n \n     public void setLanguageDependentDefaultValues() {\n \n         // Entry editor tab 0:\n-        defaults.put(CUSTOM_TAB_NAME+\"_def0\", Globals.lang(\"General\"));\n-            defaults.put(CUSTOM_TAB_FIELDS+\"_def0\", \"crossref;keywords;file;doi;url;\"+\n-                         \"comment;owner;timestamp\");\n+        defaults.put(CUSTOM_TAB_NAME + \"_def0\", Globals.lang(\"General\"));\n+        defaults.put(CUSTOM_TAB_FIELDS + \"_def0\", \"crossref;keywords;file;doi;url;\"\n+                + \"comment;owner;timestamp\");\n \n         // Entry editor tab 1:\n-            defaults.put(CUSTOM_TAB_FIELDS+\"_def1\", \"abstract\");\n-        defaults.put(CUSTOM_TAB_NAME+\"_def1\", Globals.lang(\"Abstract\"));\n+        defaults.put(CUSTOM_TAB_FIELDS + \"_def1\", \"abstract\");\n+        defaults.put(CUSTOM_TAB_NAME + \"_def1\", Globals.lang(\"Abstract\"));\n \n-      // Entry editor tab 2: Review Field - used for research comments, etc.\n-            defaults.put(CUSTOM_TAB_FIELDS+\"_def2\", \"review\");\n-        defaults.put(CUSTOM_TAB_NAME+\"_def2\", Globals.lang(\"Review\"));\n+        // Entry editor tab 2: Review Field - used for research comments, etc.\n+        defaults.put(CUSTOM_TAB_FIELDS + \"_def2\", \"review\");\n+        defaults.put(CUSTOM_TAB_NAME + \"_def2\", Globals.lang(\"Review\"));\n \n     }\n-    \n+\n     public static final String DEFAULT_REG_EXP_SEARCH_EXPRESSION_KEY = \"defaultRegExpSearchExpression\";\n     public static final String REG_EXP_SEARCH_EXPRESSION_KEY = \"regExpSearchExpression\";\n     public static final String USE_REG_EXP_SEARCH_KEY = \"useRegExpSearch\";\n     public static final String AUTOLINK_EXACT_KEY_ONLY = \"autolinkExactKeyOnly\";\n \n-\tpublic static final String EMAIL_SUBJECT = \"emailSubject\";\n-\tpublic static final String OPEN_FOLDERS_OF_ATTACHED_FILES = \"openFoldersOfAttachedFiles\";\n+    public static final String EMAIL_SUBJECT = \"emailSubject\";\n+    public static final String OPEN_FOLDERS_OF_ATTACHED_FILES = \"openFoldersOfAttachedFiles\";\n \n     public static final String GROUP_SHOW_NUMBER_OF_ELEMENTS = \"groupShowNumberOfElements\";\n \n-\n-\tpublic boolean putBracesAroundCapitals(String fieldName) {\n+    public boolean putBracesAroundCapitals(String fieldName) {\n         return putBracesAroundCapitalsFields.contains(fieldName);\n     }\n \n@@ -575,15 +647,17 @@ public void updateSpecialFieldHandling() {\n         String fieldString = get(\"putBracesAroundCapitals\");\n         if (fieldString.length() > 0) {\n             String[] fields = fieldString.split(\";\");\n-            for (int i=0; i<fields.length; i++)\n+            for (int i = 0; i < fields.length; i++) {\n                 putBracesAroundCapitalsFields.add(fields[i].trim());\n+            }\n         }\n         nonWrappableFields.clear();\n         fieldString = get(\"nonWrappableFields\");\n         if (fieldString.length() > 0) {\n             String[] fields = fieldString.split(\";\");\n-            for (int i=0; i<fields.length; i++)\n+            for (int i = 0; i < fields.length; i++) {\n                 nonWrappableFields.add(fields[i].trim());\n+            }\n         }\n \n     }\n@@ -599,6 +673,7 @@ public char getValueDelimiters(int index) {\n \n     /**\n      * Check whether a key is set (differently from null).\n+     *\n      * @param key The key to check.\n      * @return true if the key is set, false otherwise.\n      */\n@@ -607,7 +682,7 @@ public boolean hasKey(String key) {\n     }\n \n     public String get(String key) {\n-        return prefs.get(key, (String)defaults.get(key));\n+        return prefs.get(key, (String) defaults.get(key));\n     }\n \n     public String get(String key, String def) {\n@@ -617,35 +692,35 @@ public String get(String key, String def) {\n     public boolean getBoolean(String key) {\n         return prefs.getBoolean(key, getBooleanDefault(key));\n     }\n-    \n-    public boolean getBooleanDefault(String key){\n-        return ((Boolean)defaults.get(key)).booleanValue();\n+\n+    public boolean getBooleanDefault(String key) {\n+        return ((Boolean) defaults.get(key)).booleanValue();\n     }\n \n     public double getDouble(String key) {\n         return prefs.getDouble(key, getDoubleDefault(key));\n     }\n-    \n-    public double getDoubleDefault(String key){\n-        return ((Double)defaults.get(key)).doubleValue();\n+\n+    public double getDoubleDefault(String key) {\n+        return ((Double) defaults.get(key)).doubleValue();\n     }\n \n     public int getInt(String key) {\n         return prefs.getInt(key, getIntDefault(key));\n     }\n \n     public int getIntDefault(String key) {\n-        return ((Integer)defaults.get(key)).intValue();\n+        return ((Integer) defaults.get(key)).intValue();\n     }\n-    \n+\n     public byte[] getByteArray(String key) {\n         return prefs.getByteArray(key, getByteArrayDefault(key));\n     }\n \n-    public byte[] getByteArrayDefault(String key){\n-        return (byte[])defaults.get(key);   \n+    public byte[] getByteArrayDefault(String key) {\n+        return (byte[]) defaults.get(key);\n     }\n-    \n+\n     public void put(String key, String value) {\n         prefs.put(key, value);\n     }\n@@ -671,9 +746,9 @@ public void remove(String key) {\n     }\n \n     /**\n-     * Puts a string array into the Preferences, by linking its elements\n-     * with ';' into a single string. Escape characters make the process\n-     * transparent even if strings contain ';'.\n+     * Puts a string array into the Preferences, by linking its elements with\n+     * ';' into a single string. Escape characters make the process transparent\n+     * even if strings contain ';'.\n      */\n     public void putStringArray(String key, String[] value) {\n         if (value == null) {\n@@ -683,11 +758,11 @@ public void putStringArray(String key, String[] value) {\n \n         if (value.length > 0) {\n             StringBuffer linked = new StringBuffer();\n-            for (int i=0; i<value.length-1; i++) {\n+            for (int i = 0; i < value.length - 1; i++) {\n                 linked.append(makeEscape(value[i]));\n                 linked.append(\";\");\n             }\n-            linked.append(makeEscape(value[value.length-1]));\n+            linked.append(makeEscape(value[value.length - 1]));\n             put(key, linked.toString());\n         } else {\n             put(key, \"\");\n@@ -699,8 +774,9 @@ public void putStringArray(String key, String[] value) {\n      */\n     public String[] getStringArray(String key) {\n         String names = get(key);\n-        if (names == null)\n+        if (names == null) {\n             return null;\n+        }\n \n         StringReader rd = new StringReader(names);\n         Vector<String> arr = new Vector<String>();\n@@ -709,16 +785,19 @@ public void putStringArray(String key, String[] value) {\n             while ((rs = getNextUnit(rd)) != null) {\n                 arr.add(rs);\n             }\n-        } catch (IOException ex) {}\n+        } catch (IOException ex) {\n+        }\n         String[] res = new String[arr.size()];\n-        for (int i=0; i<res.length; i++)\n+        for (int i = 0; i < res.length; i++) {\n             res[i] = arr.elementAt(i);\n+        }\n \n         return res;\n     }\n \n     /**\n      * Looks up a color definition in preferences, and returns the Color object.\n+     *\n      * @param key The key for this setting.\n      * @return The color corresponding to the setting.\n      */\n@@ -729,14 +808,15 @@ public Color getColor(String key) {\n     }\n \n     public Color getDefaultColor(String key) {\n-        String value = (String)defaults.get(key);\n+        String value = (String) defaults.get(key);\n         int[] rgb = getRgb(value);\n         return new Color(rgb[0], rgb[1], rgb[2]);\n     }\n \n     /**\n      * Set the default value for a key. This is useful for plugins that need to\n      * add default values for the prefs keys they use.\n+     *\n      * @param key The preferences key.\n      * @param value The default value.\n      */\n@@ -746,6 +826,7 @@ public void putDefaultValue(String key, Object value) {\n \n     /**\n      * Stores a color in preferences.\n+     *\n      * @param key The key for this setting.\n      * @param color The Color to store.\n      */\n@@ -760,7 +841,9 @@ public void putColor(String key, Color color) {\n     }\n \n     /**\n-     * Looks up a color definition in preferences, and returns an array containing the RGB values.\n+     * Looks up a color definition in preferences, and returns an array\n+     * containing the RGB values.\n+     *\n      * @param value The key for this setting.\n      * @return The RGB values corresponding to this color setting.\n      */\n@@ -774,8 +857,8 @@ public void putColor(String key, Color color) {\n     }\n \n     /**\n-     * Returns the KeyStroke for this binding, as defined by the\n-     * defaults, or in the Preferences.\n+     * Returns the KeyStroke for this binding, as defined by the defaults, or in\n+     * the Preferences.\n      */\n     public KeyStroke getKey(String bindName) {\n \n@@ -792,37 +875,39 @@ public KeyStroke getKey(String bindName) {\n             keyBinds.put(bindName, s);\n         }\n         if (s == null) {\n-          Globals.logger(\"Could not get key binding for \\\"\" + bindName + \"\\\"\");\n+            Globals.logger(\"Could not get key binding for \\\"\" + bindName + \"\\\"\");\n         }\n \n-        if (Globals.ON_MAC)\n-          return getKeyForMac(KeyStroke.getKeyStroke(s));\n-        else\n-          return KeyStroke.getKeyStroke(s);\n+        if (Globals.ON_MAC) {\n+            return getKeyForMac(KeyStroke.getKeyStroke(s));\n+        } else {\n+            return KeyStroke.getKeyStroke(s);\n+        }\n     }\n \n     /**\n-     * Returns the KeyStroke for this binding, as defined by the\n-     * defaults, or in the Preferences, but adapted for Mac users,\n-     * with the Command key preferred instead of Control.\n+     * Returns the KeyStroke for this binding, as defined by the defaults, or in\n+     * the Preferences, but adapted for Mac users, with the Command key\n+     * preferred instead of Control.\n      */\n     private KeyStroke getKeyForMac(KeyStroke ks) {\n-      if (ks == null) return null;\n-      int keyCode = ks.getKeyCode();\n-      if ((ks.getModifiers() & KeyEvent.CTRL_MASK) == 0) {\n-        return ks;\n-      }\n-      else {\n-    \tint modifiers = 0;\n-        if ((ks.getModifiers() & KeyEvent.SHIFT_MASK) != 0) {\n-          modifiers = modifiers | KeyEvent.SHIFT_MASK;\n+        if (ks == null) {\n+            return null;\n         }\n-        if ((ks.getModifiers() & KeyEvent.ALT_MASK) != 0) {\n-            modifiers = modifiers | KeyEvent.ALT_MASK;\n+        int keyCode = ks.getKeyCode();\n+        if ((ks.getModifiers() & KeyEvent.CTRL_MASK) == 0) {\n+            return ks;\n+        } else {\n+            int modifiers = 0;\n+            if ((ks.getModifiers() & KeyEvent.SHIFT_MASK) != 0) {\n+                modifiers = modifiers | KeyEvent.SHIFT_MASK;\n+            }\n+            if ((ks.getModifiers() & KeyEvent.ALT_MASK) != 0) {\n+                modifiers = modifiers | KeyEvent.ALT_MASK;\n+            }\n+\n+            return KeyStroke.getKeyStroke(keyCode, Globals.getShortcutMask() + modifiers);\n         }\n-        \n-        return KeyStroke.getKeyStroke(keyCode, Globals.getShortcutMask()+modifiers);\n-      }\n     }\n \n     /**\n@@ -839,9 +924,9 @@ private KeyStroke getKeyForMac(KeyStroke ks) {\n         return defKeyBinds;\n     }\n \n-\n     /**\n      * Clear all preferences.\n+     *\n      * @throws BackingStoreException\n      */\n     public void clear() throws BackingStoreException {\n@@ -851,11 +936,12 @@ public void clear() throws BackingStoreException {\n     public void clear(String key) throws BackingStoreException {\n         prefs.remove(key);\n     }\n+\n     /**\n      * Calling this method will write all preferences into the preference store.\n      */\n     public void flush() {\n-        if (getBoolean(\"memoryStickMode\")){\n+        if (getBoolean(\"memoryStickMode\")) {\n             try {\n                 exportPreferences(\"jabref.xml\");\n             } catch (IOException e) {\n@@ -870,17 +956,17 @@ public void flush() {\n     }\n \n     /**\n-     * Stores new key bindings into Preferences, provided they\n-     * actually differ from the old ones.\n+     * Stores new key bindings into Preferences, provided they actually differ\n+     * from the old ones.\n      */\n     public void setNewKeyBindings(HashMap<String, String> newBindings) {\n         if (!newBindings.equals(keyBinds)) {\n             // This confirms that the bindings have actually changed.\n             String[] bindNames = new String[newBindings.size()],\n-                bindings = new String[newBindings.size()];\n+                    bindings = new String[newBindings.size()];\n             int index = 0;\n-            for (Iterator<String> i=newBindings.keySet().iterator();\n-                 i.hasNext();) {\n+            for (Iterator<String> i = newBindings.keySet().iterator();\n+                    i.hasNext();) {\n                 String nm = i.next();\n                 String bnd = newBindings.get(nm);\n                 bindNames[index] = nm;\n@@ -893,84 +979,85 @@ public void setNewKeyBindings(HashMap<String, String> newBindings) {\n         }\n     }\n \n-\n-        /**\n-         * Fetches key patterns from preferences\n-         * Not cached\n-         * \n-         * @return LabelPattern containing all keys. Returned LabelPattern has no parent\n-         */\n-        public LabelPattern getKeyPattern(){\n-            keyPattern = new LabelPattern();\n-            Preferences pre = Preferences.userNodeForPackage\n-                (net.sf.jabref.labelPattern.LabelPattern.class);\n-            try {\n-                String[] keys = pre.keys();\n-            if (keys.length > 0) for (int i=0; i<keys.length; i++)\n-                keyPattern.addLabelPattern(keys[i], pre.get(keys[i], null));\n-            } catch (BackingStoreException ex) {\n-                Globals.logger(\"BackingStoreException in JabRefPreferences.getKeyPattern\");\n+    /**\n+     * Fetches key patterns from preferences Not cached\n+     *\n+     * @return LabelPattern containing all keys. Returned LabelPattern has no\n+     * parent\n+     */\n+    public LabelPattern getKeyPattern() {\n+        keyPattern = new LabelPattern();\n+        Preferences pre = Preferences.userNodeForPackage(net.sf.jabref.labelPattern.LabelPattern.class);\n+        try {\n+            String[] keys = pre.keys();\n+            if (keys.length > 0) {\n+                for (int i = 0; i < keys.length; i++) {\n+                    keyPattern.addLabelPattern(keys[i], pre.get(keys[i], null));\n+                }\n             }\n-            return keyPattern;\n+        } catch (BackingStoreException ex) {\n+            Globals.logger(\"BackingStoreException in JabRefPreferences.getKeyPattern\");\n         }\n+        return keyPattern;\n+    }\n \n-        /**\n-         * Adds the given key pattern to the preferences\n-         * \n-         * @param pattern the pattern to store\n-         */\n-        public void putKeyPattern(LabelPattern pattern){\n-            keyPattern = pattern;\n-            LabelPattern parent = pattern.getParent();\n-\n-            // Store overridden definitions to Preferences.\n-            Preferences pre = Preferences.userNodeForPackage\n-                (net.sf.jabref.labelPattern.LabelPattern.class);\n-            try {\n-                pre.clear(); // We remove all old entries.\n-            } catch (BackingStoreException ex) {\n-                Globals.logger(\"BackingStoreException in JabRefPreferences.putKeyPattern\");\n-            }\n+    /**\n+     * Adds the given key pattern to the preferences\n+     *\n+     * @param pattern the pattern to store\n+     */\n+    public void putKeyPattern(LabelPattern pattern) {\n+        keyPattern = pattern;\n+        LabelPattern parent = pattern.getParent();\n \n-            for (String s: pattern.keySet()) {\n-                ArrayList<String> value = pattern.get(s);\n-                if (value != null) {\n-                    // no default value\n-                    // the first entry in the array is the full pattern\n-                    // see net.sf.jabref.labelPattern.LabelPatternUtil.split(String)\n-                    pre.put(s, value.get(0));\n-                }\n+        // Store overridden definitions to Preferences.\n+        Preferences pre = Preferences.userNodeForPackage(net.sf.jabref.labelPattern.LabelPattern.class);\n+        try {\n+            pre.clear(); // We remove all old entries.\n+        } catch (BackingStoreException ex) {\n+            Globals.logger(\"BackingStoreException in JabRefPreferences.putKeyPattern\");\n+        }\n+\n+        for (String s : pattern.keySet()) {\n+            ArrayList<String> value = pattern.get(s);\n+            if (value != null) {\n+                // no default value\n+                // the first entry in the array is the full pattern\n+                // see net.sf.jabref.labelPattern.LabelPatternUtil.split(String)\n+                pre.put(s, value.get(0));\n             }\n         }\n+    }\n \n     private void restoreKeyBindings() {\n         // Define default keybindings.\n         defineDefaultKeyBindings();\n \n         // First read the bindings, and their names.\n         String[] bindNames = getStringArray(\"bindNames\"),\n-                 bindings  = getStringArray(\"bindings\");\n+                bindings = getStringArray(\"bindings\");\n \n         // Then set up the key bindings HashMap.\n         if ((bindNames == null) || (bindings == null)\n-            || (bindNames.length != bindings.length)) {\n+                || (bindNames.length != bindings.length)) {\n             // Nothing defined in Preferences, or something is wrong.\n             setDefaultKeyBindings();\n             return;\n         }\n \n-        for (int i=0; i<bindNames.length; i++)\n+        for (int i = 0; i < bindNames.length; i++) {\n             keyBinds.put(bindNames[i], bindings[i]);\n+        }\n     }\n \n     private void setDefaultKeyBindings() {\n         keyBinds = defKeyBinds;\n     }\n- \n+\n     private void defineDefaultKeyBindings() {\n-        defKeyBinds.put(\"Push to application\",\"ctrl L\");\n-      defKeyBinds.put(\"Push to LyX\",\"ctrl L\");\n-      defKeyBinds.put(\"Push to WinEdt\",\"ctrl shift W\");\n+        defKeyBinds.put(\"Push to application\", \"ctrl L\");\n+        defKeyBinds.put(\"Push to LyX\", \"ctrl L\");\n+        defKeyBinds.put(\"Push to WinEdt\", \"ctrl shift W\");\n         defKeyBinds.put(\"Quit JabRef\", \"ctrl Q\");\n         defKeyBinds.put(\"Open database\", \"ctrl O\");\n         defKeyBinds.put(\"Save database\", \"ctrl S\");\n@@ -1084,27 +1171,28 @@ private String getNextUnit(Reader data) throws IOException {\n         StringBuffer res = new StringBuffer();\n         while (!done && ((c = data.read()) != -1)) {\n             if (c == '\\\\') {\n-                if (!escape)\n+                if (!escape) {\n                     escape = true;\n-                else {\n+                } else {\n                     escape = false;\n                     res.append('\\\\');\n                 }\n             } else {\n                 if (c == ';') {\n-                    if (!escape)\n+                    if (!escape) {\n                         done = true;\n-                    else\n+                    } else {\n                         res.append(';');\n+                    }\n                 } else {\n-                    res.append((char)c);\n+                    res.append((char) c);\n                 }\n                 escape = false;\n             }\n         }\n         if (res.length() > 0) {\n             return res.toString();\n-        } else if (c ==-1) {\n+        } else if (c == -1) {\n             // end of stream\n             return null;\n         } else {\n@@ -1115,42 +1203,42 @@ private String getNextUnit(Reader data) throws IOException {\n     private String makeEscape(String s) {\n         StringBuffer sb = new StringBuffer();\n         int c;\n-        for (int i=0; i<s.length(); i++) {\n+        for (int i = 0; i < s.length(); i++) {\n             c = s.charAt(i);\n-            if ((c == '\\\\') || (c == ';'))\n+            if ((c == '\\\\') || (c == ';')) {\n                 sb.append('\\\\');\n-            sb.append((char)c);\n+            }\n+            sb.append((char) c);\n         }\n         return sb.toString();\n     }\n \n     /**\n-     * Stores all information about the entry type in preferences, with\n-     * the tag given by number.\n+     * Stores all information about the entry type in preferences, with the tag\n+     * given by number.\n      */\n     public void storeCustomEntryType(CustomEntryType tp, int number) {\n-        String nr = \"\"+number;\n-        put(CUSTOM_TYPE_NAME+nr, tp.getName());\n-        put(CUSTOM_TYPE_REQ+nr, tp.getRequiredFieldsString());//tp.getRequiredFields());\n-        putStringArray(CUSTOM_TYPE_OPT+nr, tp.getOptionalFields());\n-        putStringArray(CUSTOM_TYPE_PRIOPT+nr, tp.getPrimaryOptionalFields());\n+        String nr = \"\" + number;\n+        put(CUSTOM_TYPE_NAME + nr, tp.getName());\n+        put(CUSTOM_TYPE_REQ + nr, tp.getRequiredFieldsString());//tp.getRequiredFields());\n+        putStringArray(CUSTOM_TYPE_OPT + nr, tp.getOptionalFields());\n+        putStringArray(CUSTOM_TYPE_PRIOPT + nr, tp.getPrimaryOptionalFields());\n \n     }\n \n     /**\n-     * Retrieves all information about the entry type in preferences,\n-     * with the tag given by number.\n+     * Retrieves all information about the entry type in preferences, with the\n+     * tag given by number.\n      */\n     public CustomEntryType getCustomEntryType(int number) {\n-        String nr = \"\"+number;\n-        String\n-            name = get(CUSTOM_TYPE_NAME+nr);\n-        String[]\n-            req = getStringArray(CUSTOM_TYPE_REQ+nr),\n-            opt = getStringArray(CUSTOM_TYPE_OPT+nr),\n-            priOpt = getStringArray(CUSTOM_TYPE_PRIOPT+nr);\n-        if (name == null)\n+        String nr = \"\" + number;\n+        String name = get(CUSTOM_TYPE_NAME + nr);\n+        String[] req = getStringArray(CUSTOM_TYPE_REQ + nr),\n+                opt = getStringArray(CUSTOM_TYPE_OPT + nr),\n+                priOpt = getStringArray(CUSTOM_TYPE_PRIOPT + nr);\n+        if (name == null) {\n             return null;\n+        }\n         if (priOpt == null) {\n             return new CustomEntryType(Util.nCase(name), req, opt);\n         }\n@@ -1164,11 +1252,8 @@ public CustomEntryType getCustomEntryType(int number) {\n         return new CustomEntryType(Util.nCase(name), req, priOpt,\n                 secOpt.toArray(new String[secOpt.size()]));\n \n-\n     }\n \n-\n-\n     public List<ExternalFileType> getDefaultExternalFileTypes() {\n         List<ExternalFileType> list = new ArrayList<ExternalFileType>();\n         list.add(new ExternalFileType(\"PDF\", \"pdf\", \"application/pdf\", \"evince\", \"pdfSmall\"));\n@@ -1201,47 +1286,50 @@ public CustomEntryType getCustomEntryType(int number) {\n             ExternalFileType type = iterator.next();\n             type.setOpenWith(\"\");\n         }\n-        \n \n         return list;\n     }\n \n     public ExternalFileType[] getExternalFileTypeSelection() {\n-        return externalFileTypes.toArray\n-                (new ExternalFileType[externalFileTypes.size()]);\n+        return externalFileTypes.toArray(new ExternalFileType[externalFileTypes.size()]);\n     }\n \n     /**\n      * Look up the external file type registered with this name, if any.\n+     *\n      * @param name The file type name.\n      * @return The ExternalFileType registered, or null if none.\n      */\n     public ExternalFileType getExternalFileTypeByName(String name) {\n         for (Iterator<ExternalFileType> iterator = externalFileTypes.iterator(); iterator.hasNext();) {\n             ExternalFileType type = iterator.next();\n-            if (type.getName().equals(name))\n+            if (type.getName().equals(name)) {\n                 return type;\n+            }\n         }\n         // Return an instance that signifies an unknown file type:\n         return new UnknownExternalFileType(name);\n     }\n \n     /**\n      * Look up the external file type registered for this extension, if any.\n+     *\n      * @param extension The file extension.\n      * @return The ExternalFileType registered, or null if none.\n      */\n     public ExternalFileType getExternalFileTypeByExt(String extension) {\n         for (Iterator<ExternalFileType> iterator = externalFileTypes.iterator(); iterator.hasNext();) {\n             ExternalFileType type = iterator.next();\n-            if ((type.getExtension() != null) && type.getExtension().equalsIgnoreCase(extension))\n+            if ((type.getExtension() != null) && type.getExtension().equalsIgnoreCase(extension)) {\n                 return type;\n+            }\n         }\n         return null;\n     }\n \n     /**\n      * Look up the external file type registered for this filename, if any.\n+     *\n      * @param filename The name of the file whose type to look up.\n      * @return The ExternalFileType registered, or null if none.\n      */\n@@ -1263,26 +1351,30 @@ public ExternalFileType getExternalFileTypeForName(String filename) {\n \n     /**\n      * Look up the external file type registered for this MIME type, if any.\n+     *\n      * @param mimeType The MIME type.\n-     * @return The ExternalFileType registered, or null if none. For the mime type \"text/html\",\n-     *   a valid file type is guaranteed to be returned.\n+     * @return The ExternalFileType registered, or null if none. For the mime\n+     * type \"text/html\", a valid file type is guaranteed to be returned.\n      */\n     public ExternalFileType getExternalFileTypeByMimeType(String mimeType) {\n         for (Iterator<ExternalFileType> iterator = externalFileTypes.iterator(); iterator.hasNext();) {\n             ExternalFileType type = iterator.next();\n-            if ((type.getMimeType() != null) && type.getMimeType().equals(mimeType))\n+            if ((type.getMimeType() != null) && type.getMimeType().equals(mimeType)) {\n                 return type;\n+            }\n         }\n-        if (mimeType.equals(\"text/html\"))\n+        if (mimeType.equals(\"text/html\")) {\n             return HTML_FALLBACK_TYPE;\n-        else\n+        } else {\n             return null;\n+        }\n     }\n \n     /**\n      * Reset the List of external file types after user customization.\n-     * @param types The new List of external file types. This is the complete list, not\n-     *  just new entries.\n+     *\n+     * @param types The new List of external file types. This is the complete\n+     * list, not just new entries.\n      */\n     public void setExternalFileTypes(List<ExternalFileType> types) {\n \n@@ -1306,9 +1398,9 @@ public void setExternalFileTypes(List<ExternalFileType> types) {\n             }\n             if (found != null) {\n                 // Found it! Check if it is an exact match, or if it has been customized:\n-                if (found.equals(type))\n+                if (found.equals(type)) {\n                     unchanged.add(type);\n-                else {\n+                } else {\n                     // It was modified. Remove its entry from the defaults list, since\n                     // the type hasn't been removed:\n                     defTypes.remove(found);\n@@ -1325,24 +1417,23 @@ public void setExternalFileTypes(List<ExternalFileType> types) {\n \n         // Now set up the array to write to prefs, containing all new types, all modified\n         // types, and a flag denoting each default type that has been removed:\n-        String[][] array = new String[types.size()+defTypes.size()][];\n-        int i=0;\n+        String[][] array = new String[types.size() + defTypes.size()][];\n+        int i = 0;\n         for (ExternalFileType type : types) {\n             array[i] = type.getStringArrayRepresentation();\n             i++;\n         }\n         for (ExternalFileType type : defTypes) {\n-            array[i] = new String[] {type.getName(), FILE_TYPE_REMOVED_FLAG};\n+            array[i] = new String[]{type.getName(), FILE_TYPE_REMOVED_FLAG};\n             i++;\n         }\n         //System.out.println(\"Encoded: '\"+Util.encodeStringArray(array)+\"'\");\n         put(\"externalFileTypes\", Util.encodeStringArray(array));\n     }\n \n-    \n     /**\n-     * Set up the list of external file types, either from default values, or from values\n-     * recorded in Preferences.\n+     * Set up the list of external file types, either from default values, or\n+     * from values recorded in Preferences.\n      */\n     public void updateExternalFileTypes() {\n         // First get a list of the default file types as a starting point:\n@@ -1366,10 +1457,10 @@ public void updateExternalFileTypes() {\n                     }\n                 }\n                 // If we found it, remove it from the type list:\n-                if (toRemove != null)\n+                if (toRemove != null) {\n                     types.remove(toRemove);\n-            }\n-            else {\n+                }\n+            } else {\n                 // A new or modified entry type. Construct it from the string array:\n                 ExternalFileType type = new ExternalFileType(vals[i]);\n                 // Check if there is a default type with the same name. If so, this is a\n@@ -1385,7 +1476,7 @@ public void updateExternalFileTypes() {\n                 if (toRemove != null) {\n                     types.remove(toRemove);\n                 }\n-                \n+\n                 // Then add the new one:\n                 types.add(type);\n             }\n@@ -1397,9 +1488,9 @@ public void updateExternalFileTypes() {\n         }\n     }\n \n-\n     /**\n      * Removes all information about custom entry types with tags of\n+     *\n      * @param number or higher.\n      */\n     public void purgeCustomEntryTypes(int number) {\n@@ -1410,25 +1501,27 @@ public void purgeCustomEntryTypes(int number) {\n     }\n \n     /**\n-     * Removes all entries keyed by prefix+number, where number\n-     * is equal to or higher than the given number.\n+     * Removes all entries keyed by prefix+number, where number is equal to or\n+     * higher than the given number.\n+     *\n      * @param number or higher.\n      */\n     public void purgeSeries(String prefix, int number) {\n-        while (get(prefix+number) != null) {\n-            remove(prefix+number);\n+        while (get(prefix + number) != null) {\n+            remove(prefix + number);\n             number++;\n         }\n     }\n \n     public EntryEditorTabList getEntryEditorTabList() {\n-    if (tabList == null)\n-        updateEntryEditorTabList();\n-    return tabList;\n+        if (tabList == null) {\n+            updateEntryEditorTabList();\n+        }\n+        return tabList;\n     }\n \n     public void updateEntryEditorTabList() {\n-    tabList = new EntryEditorTabList();\n+        tabList = new EntryEditorTabList();\n     }\n \n     /**\n@@ -1437,32 +1530,34 @@ public void updateEntryEditorTabList() {\n      * @param filename String File to export to\n      */\n     public void exportPreferences(String filename) throws IOException {\n-      File f = new File(filename);\n-      OutputStream os = new FileOutputStream(f);\n-      try {\n-        prefs.exportSubtree(os);\n-      } catch (BackingStoreException ex) {\n-        throw new IOException(ex.getMessage());\n-      }\n-    }\n-\n-      /**\n-       * Imports Preferences from an XML file.\n-       *\n-       * @param filename String File to import from\n-       */\n-      public void importPreferences(String filename) throws IOException {\n+        File f = new File(filename);\n+        OutputStream os = new FileOutputStream(f);\n+        try {\n+            prefs.exportSubtree(os);\n+        } catch (BackingStoreException ex) {\n+            throw new IOException(ex.getMessage());\n+        }\n+    }\n+\n+    /**\n+     * Imports Preferences from an XML file.\n+     *\n+     * @param filename String File to import from\n+     */\n+    public void importPreferences(String filename) throws IOException {\n         File f = new File(filename);\n         InputStream is = new FileInputStream(f);\n         try {\n-          Preferences.importPreferences(is);\n+            Preferences.importPreferences(is);\n         } catch (InvalidPreferencesFormatException ex) {\n-          throw new IOException(ex.getMessage());\n+            throw new IOException(ex.getMessage());\n         }\n-      }\n+    }\n \n     /**\n-     * Determines whether the given field should be written without any sort of wrapping.\n+     * Determines whether the given field should be written without any sort of\n+     * wrapping.\n+     *\n      * @param fieldName The field name.\n      * @return true if the field should not be wrapped.\n      */, @@ -79,6 +79,7 @@ public PrefsDialog3(JabRefFrame parent) {\n \t\ttabs.add(new GeneralTab(frame, prefs));\n \t\ttabs.add(new NetworkTab(frame, prefs));\n         tabs.add(new FileTab(frame, prefs));\n+        tabs.add(new FileSortTab(frame, prefs));\n         tabs.add(new EntryEditorPrefsTab(frame, prefs));\n         tabs.add(new GroupsPrefsTab(prefs));\n \t\ttabs.add(new AppearancePrefsTab(prefs));, @@ -214,9 +214,9 @@ public void setValues() {\n \t\tautoResizeMode\n \t\t\t.setSelected((_prefs.getInt(\"autoResizeMode\") == JTable.AUTO_RESIZE_ALL_COLUMNS));\n \n-\t\tpriField.setText(_prefs.get(\"priSort\"));\n-\t\tsecField.setText(_prefs.get(\"secSort\"));\n-\t\tterField.setText(_prefs.get(\"terSort\"));\n+\t\tpriField.setText(_prefs.get(JabRefPreferences.PRIMARY_SORT_FIELD));\n+\t\tsecField.setText(_prefs.get(JabRefPreferences.SECONDARY_SORT_FIELD));\n+\t\tterField.setText(_prefs.get(JabRefPreferences.TERTIARY_SORT_FIELD));\n \t\tpriSort.setSelectedIndex(0);\n \t\tsecSort.setSelectedIndex(0);\n \t\tterSort.setSelectedIndex(0);\n@@ -235,9 +235,9 @@ else if (_prefs.getBoolean(\"namesLastOnly\"))\n \t\t\tlastNamesOnly.setSelected(true);\n \t\telse\n \t\t\tnoAbbrNames.setSelected(true);\n-\t\tpriDesc.setSelected(_prefs.getBoolean(\"priDescending\"));\n-\t\tsecDesc.setSelected(_prefs.getBoolean(\"secDescending\"));\n-\t\tterDesc.setSelected(_prefs.getBoolean(\"terDescending\"));\n+\t\tpriDesc.setSelected(_prefs.getBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING));\n+\t\tsecDesc.setSelected(_prefs.getBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING));\n+\t\tterDesc.setSelected(_prefs.getBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING));\n \n \t\tfloatMarked.setSelected(_prefs.getBoolean(\"floatMarkedEntries\"));\n \n@@ -268,16 +268,16 @@ public void storeSettings() {\n \n \t\t_prefs.putInt(\"autoResizeMode\",\n \t\t\tautoResizeMode.isSelected() ? JTable.AUTO_RESIZE_ALL_COLUMNS : JTable.AUTO_RESIZE_OFF);\n-\t\t_prefs.putBoolean(\"priDescending\", priDesc.isSelected());\n-\t\t_prefs.putBoolean(\"secDescending\", secDesc.isSelected());\n-\t\t_prefs.putBoolean(\"terDescending\", terDesc.isSelected());\n-\t\t// _prefs.put(\"secSort\",\n+\t\t_prefs.putBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING, priDesc.isSelected());\n+\t\t_prefs.putBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING, secDesc.isSelected());\n+\t\t_prefs.putBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING, terDesc.isSelected());\n+\t\t// _prefs.put(JabRefPreferences.SECONDARY_SORT_FIELD,\n \t\t// GUIGlobals.ALL_FIELDS[secSort.getSelectedIndex()]);\n-\t\t// _prefs.put(\"terSort\",\n+\t\t// _prefs.put(JabRefPreferences.TERTIARY_SORT_FIELD,\n \t\t// GUIGlobals.ALL_FIELDS[terSort.getSelectedIndex()]);\n-\t\t_prefs.put(\"priSort\", priField.getText().toLowerCase().trim());\n-\t\t_prefs.put(\"secSort\", secField.getText().toLowerCase().trim());\n-\t\t_prefs.put(\"terSort\", terField.getText().toLowerCase().trim());\n+\t\t_prefs.put(JabRefPreferences.PRIMARY_SORT_FIELD, priField.getText().toLowerCase().trim());\n+\t\t_prefs.put(JabRefPreferences.SECONDARY_SORT_FIELD, secField.getText().toLowerCase().trim());\n+\t\t_prefs.put(JabRefPreferences.TERTIARY_SORT_FIELD, terField.getText().toLowerCase().trim());\n \n \t\t_prefs.putBoolean(\"floatMarkedEntries\", floatMarked.isSelected());\n \t\t// updatefont, @@ -1,18 +1,18 @@\n /*  Copyright (C) 2003-2011 JabRef contributors.\n-    This program is free software; you can redistribute it and/or modify\n-    it under the terms of the GNU General Public License as published by\n-    the Free Software Foundation; either version 2 of the License, or\n-    (at your option) any later version.\n-\n-    This program is distributed in the hope that it will be useful,\n-    but WITHOUT ANY WARRANTY; without even the implied warranty of\n-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-    GNU General Public License for more details.\n-\n-    You should have received a copy of the GNU General Public License along\n-    with this program; if not, write to the Free Software Foundation, Inc.,\n-    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n-*/\n+ This program is free software; you can redistribute it and/or modify\n+ it under the terms of the GNU General Public License as published by\n+ the Free Software Foundation; either version 2 of the License, or\n+ (at your option) any later version.\n+\n+ This program is distributed in the hope that it will be useful,\n+ but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ GNU General Public License for more details.\n+\n+ You should have received a copy of the GNU General Public License along\n+ with this program; if not, write to the Free Software Foundation, Inc.,\n+ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n+ */\n package net.sf.jabref.export;\n \n import java.io.File;\n@@ -52,23 +52,23 @@\n import ca.odell.glazedlists.BasicEventList;\n import ca.odell.glazedlists.SortedList;\n \n-public class FileActions\n-{\n+public class FileActions {\n \n     private static Pattern refPat = Pattern.compile(\"(#[A-Za-z]+#)\"); // Used to detect string references in strings\n     private static BibtexString.Type previousStringType;\n \n     private static void writePreamble(Writer fw, String preamble) throws IOException {\n-    if (preamble != null) {\n-        fw.write(\"@PREAMBLE{\");\n-        fw.write(preamble);\n-        fw.write(\"}\"+Globals.NEWLINE +Globals.NEWLINE);\n-    }\n+        if (preamble != null) {\n+            fw.write(\"@PREAMBLE{\");\n+            fw.write(preamble);\n+            fw.write(\"}\" + Globals.NEWLINE + Globals.NEWLINE);\n+        }\n     }\n \n     /**\n-     * Write all strings in alphabetical order, modified to produce a safe (for BibTeX) order of the strings\n-     * if they reference each other.\n+     * Write all strings in alphabetical order, modified to produce a safe (for\n+     * BibTeX) order of the strings if they reference each other.\n+     *\n      * @param fw The Writer to send the output to.\n      * @param database The database whose strings we should write.\n      * @throws IOException If anthing goes wrong in writing.\n@@ -83,17 +83,18 @@ private static void writeStrings(Writer fw, BibtexDatabase database) throws IOEx\n         // First, make a Map of all entries:\n         HashMap<String, BibtexString> remaining = new HashMap<String, BibtexString>();\n         int maxKeyLength = 0;\n-        for (Iterator<BibtexString> i=strings.iterator(); i.hasNext();) {\n+        for (Iterator<BibtexString> i = strings.iterator(); i.hasNext();) {\n             BibtexString string = i.next();\n             remaining.put(string.getName(), string);\n             maxKeyLength = Math.max(maxKeyLength, string.getName().length());\n         }\n \n-        for(BibtexString.Type t : BibtexString.Type.values()) {\n+        for (BibtexString.Type t : BibtexString.Type.values()) {\n             for (Iterator<BibtexString> i = strings.iterator(); i.hasNext();) {\n                 BibtexString bs = i.next();\n-                if (remaining.containsKey(bs.getName()) && bs.getType() == t)\n+                if (remaining.containsKey(bs.getName()) && bs.getType() == t) {\n                     writeString(fw, bs, remaining, maxKeyLength);\n+                }\n             }\n         }\n         fw.write(Globals.NEWLINE);\n@@ -110,12 +111,13 @@ private static void writeString(Writer fw, BibtexString bs, HashMap<String, Bibt\n         Matcher m;\n         while ((m = refPat.matcher(content)).find()) {\n             String foundLabel = m.group(1);\n-            int restIndex = content.indexOf(foundLabel)+foundLabel.length();\n+            int restIndex = content.indexOf(foundLabel) + foundLabel.length();\n             content = content.substring(restIndex);\n-            Object referred = remaining.get(foundLabel.substring(1, foundLabel.length()-1));\n+            Object referred = remaining.get(foundLabel.substring(1, foundLabel.length() - 1));\n             // If the label we found exists as a key in the \"remaining\" Map, we go on and write it now:\n-            if (referred != null)\n-                writeString(fw, (BibtexString)referred, remaining, maxKeyLength);\n+            if (referred != null) {\n+                writeString(fw, (BibtexString) referred, remaining, maxKeyLength);\n+            }\n         }\n \n         if (previousStringType != bs.getType()) {\n@@ -124,8 +126,9 @@ private static void writeString(Writer fw, BibtexString bs, HashMap<String, Bibt\n         }\n \n         String suffix = \"\";\n-        for(int i = maxKeyLength - bs.getName().length(); i > 0; i--) \n+        for (int i = maxKeyLength - bs.getName().length(); i > 0; i--) {\n             suffix += \" \";\n+        }\n \n         fw.write(\"@String { \" + bs.getName() + suffix + \" = \");\n         if (!bs.getContent().equals(\"\")) {\n@@ -134,249 +137,229 @@ private static void writeString(Writer fw, BibtexString bs, HashMap<String, Bibt\n                 fw.write(formatted);\n             } catch (IllegalArgumentException ex) {\n                 throw new IllegalArgumentException(\n-                        Globals.lang(\"The # character is not allowed in BibTeX strings unless escaped as in '\\\\#'.\") + \"\\n\" +\n-                        Globals.lang(\"Before saving, please edit any strings containing the # character.\"));\n+                        Globals.lang(\"The # character is not allowed in BibTeX strings unless escaped as in '\\\\#'.\") + \"\\n\"\n+                        + Globals.lang(\"Before saving, please edit any strings containing the # character.\"));\n             }\n \n-        }\n-        else\n+        } else {\n             fw.write(\"{}\");\n+        }\n \n         fw.write(\" }\" + Globals.NEWLINE);// + Globals.NEWLINE);\n     }\n \n     /**\n      * Writes the JabRef signature and the encoding.\n      *\n-     * @param encoding String the name of the encoding, which is part of the header.\n+     * @param encoding String the name of the encoding, which is part of the\n+     * header.\n      */\n     private static void writeBibFileHeader(Writer out, String encoding) throws IOException {\n         out.write(\"% \");\n-      out.write(GUIGlobals.SIGNATURE);\n-      out.write(\" \"+GUIGlobals.version+\".\"+Globals.NEWLINE + \"% \" + \n-              GUIGlobals.encPrefix+encoding+Globals.NEWLINE +Globals.NEWLINE);\n+        out.write(GUIGlobals.SIGNATURE);\n+        out.write(\" \" + GUIGlobals.version + \".\" + Globals.NEWLINE + \"% \"\n+                + GUIGlobals.encPrefix + encoding + Globals.NEWLINE + Globals.NEWLINE);\n     }\n \n     /**\n-     * Saves the database to file. Two boolean values indicate whether\n-     * only entries with a nonzero Globals.SEARCH value and only\n-     * entries with a nonzero Globals.GROUPSEARCH value should be\n-     * saved. This can be used to let the user save only the results of\n-     * a search. False and false means all entries are saved.\n+     * Saves the database to file. Two boolean values indicate whether only\n+     * entries with a nonzero Globals.SEARCH value and only entries with a\n+     * nonzero Globals.GROUPSEARCH value should be saved. This can be used to\n+     * let the user save only the results of a search. False and false means all\n+     * entries are saved.\n      */\n     public static SaveSession saveDatabase(BibtexDatabase database,\n-\t\tMetaData metaData, File file, JabRefPreferences prefs,\n-\t\tboolean checkSearch, boolean checkGroup, String encoding, boolean suppressBackup)\n-\t\tthrows SaveException {\n-    \t\n-\t\tTreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>();\n-\t\t\n-\t\tboolean backup = prefs.getBoolean(\"backup\");\n-        if (suppressBackup)\n+            MetaData metaData, File file, JabRefPreferences prefs,\n+            boolean checkSearch, boolean checkGroup, String encoding, boolean suppressBackup)\n+            throws SaveException {\n+\n+        TreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>();\n+\n+        boolean backup = prefs.getBoolean(\"backup\");\n+        if (suppressBackup) {\n             backup = false;\n+        }\n \n-\t\tSaveSession session;\n-\t\tBibtexEntry exceptionCause = null;\n-\t\ttry {\n-\t\t\tsession = new SaveSession(file, encoding, backup);\n-\t\t} catch (Throwable e) {\n-\t\t\tif (encoding != null) {\n-\t\t\t\tSystem.err.println(\"Error from encoding: '\" + encoding + \"' Len: \" + encoding.length());\n-\t\t\t}\n+        SaveSession session;\n+        BibtexEntry exceptionCause = null;\n+        try {\n+            session = new SaveSession(file, encoding, backup);\n+        } catch (Throwable e) {\n+            if (encoding != null) {\n+                System.err.println(\"Error from encoding: '\" + encoding + \"' Len: \" + encoding.length());\n+            }\n \t\t\t// we must catch all exceptions to be able notify users that\n-\t\t\t// saving failed, no matter what the reason was\n-\t\t\t// (and they won't just quit JabRef thinking\n-\t\t\t// everyting worked and loosing data)\n-\t\t\te.printStackTrace();\n-\t\t\tthrow new SaveException(e.getMessage());\n-\t\t}\n+            // saving failed, no matter what the reason was\n+            // (and they won't just quit JabRef thinking\n+            // everyting worked and loosing data)\n+            e.printStackTrace();\n+            throw new SaveException(e.getMessage());\n+        }\n \n-\t\ttry {\n+        try {\n \n \t\t\t// Get our data stream. This stream writes only to a temporary file,\n-\t\t\t// until committed.\n-\t\t\tVerifyingWriter fw = session.getWriter();\n+            // until committed.\n+            VerifyingWriter fw = session.getWriter();\n \n-\t\t\t// Write signature.\n-\t\t\twriteBibFileHeader(fw, encoding);\n+            // Write signature.\n+            writeBibFileHeader(fw, encoding);\n \n-\t\t\t// Write preamble if there is one.\n-\t\t\twritePreamble(fw, database.getPreamble());\n+            // Write preamble if there is one.\n+            writePreamble(fw, database.getPreamble());\n \n-\t\t\t// Write strings if there are any.\n-\t\t\twriteStrings(fw, database);\n+            // Write strings if there are any.\n+            writeStrings(fw, database);\n \n \t\t\t// Write database entries. Take care, using CrossRefEntry-\n-\t\t\t// Comparator, that referred entries occur after referring\n-\t\t\t// ones. Apart from crossref requirements, entries will be\n-\t\t\t// sorted as they appear on the screen.\n-\t\t\tList<BibtexEntry> sorter = getSortedEntries(database, null, true);\n+            // Comparator, that referred entries occur after referring\n+            // ones. Apart from crossref requirements, entries will be\n+            // sorted as they appear on the screen.\n+            List<BibtexEntry> sorter = getSortedEntries(database, null, true);\n \n-\t\t\tFieldFormatter ff = new LatexFieldFormatter();\n+            FieldFormatter ff = new LatexFieldFormatter();\n \n-\t\t\tfor (BibtexEntry be : sorter) {\n-\t\t\t\texceptionCause = be;\n+            for (BibtexEntry be : sorter) {\n+                exceptionCause = be;\n \n \t\t\t\t// Check if we must write the type definition for this\n-\t\t\t\t// entry, as well. Our criterion is that all non-standard\n-\t\t\t\t// types (*not* customized standard types) must be written.\n-\t\t\t\tBibtexEntryType tp = be.getType();\n-\n-\t\t\t\tif (BibtexEntryType.getStandardType(tp.getName()) == null) {\n-\t\t\t\t\ttypes.put(tp.getName(), tp);\n-\t\t\t\t}\n-\n-\t\t\t\t// Check if the entry should be written.\n-\t\t\t\tboolean write = true;\n-\n-\t\t\t\tif (checkSearch && !nonZeroField(be, BibtexFields.SEARCH)) {\n-\t\t\t\t\twrite = false;\n-\t\t\t\t}\n-\n-\t\t\t\tif (checkGroup && !nonZeroField(be, BibtexFields.GROUPSEARCH)) {\n-\t\t\t\t\twrite = false;\n-\t\t\t\t}\n-\n-\t\t\t\tif (write) {\n-\t\t\t\t\tbe.write(fw, ff, true);\n-\t\t\t\t\tfw.write(Globals.NEWLINE);\n-\t\t\t\t}\n-\t\t\t}\n-\n-\t\t\t// Write meta data.\n-\t\t\tif (metaData != null) {\n-\t\t\t\tmetaData.writeMetaData(fw);\n-\t\t\t}\n-\n-\t\t\t// Write type definitions, if any:\n-\t\t\tif (types.size() > 0) {\n-\t\t\t\tfor (Iterator<String> i = types.keySet().iterator(); i\n-\t\t\t\t\t.hasNext();) {\n+                // entry, as well. Our criterion is that all non-standard\n+                // types (*not* customized standard types) must be written.\n+                BibtexEntryType tp = be.getType();\n+\n+                if (BibtexEntryType.getStandardType(tp.getName()) == null) {\n+                    types.put(tp.getName(), tp);\n+                }\n+\n+                // Check if the entry should be written.\n+                boolean write = true;\n+\n+                if (checkSearch && !nonZeroField(be, BibtexFields.SEARCH)) {\n+                    write = false;\n+                }\n+\n+                if (checkGroup && !nonZeroField(be, BibtexFields.GROUPSEARCH)) {\n+                    write = false;\n+                }\n+\n+                if (write) {\n+                    be.write(fw, ff, true);\n+                    fw.write(Globals.NEWLINE);\n+                }\n+            }\n+\n+            // Write meta data.\n+            if (metaData != null) {\n+                metaData.writeMetaData(fw);\n+            }\n+\n+            // Write type definitions, if any:\n+            if (types.size() > 0) {\n+                for (Iterator<String> i = types.keySet().iterator(); i\n+                        .hasNext();) {\n                     BibtexEntryType type = types.get(i.next());\n                     if (type instanceof CustomEntryType) {\n-                        CustomEntryType tp = (CustomEntryType)type;\n+                        CustomEntryType tp = (CustomEntryType) type;\n                         tp.save(fw);\n                         fw.write(Globals.NEWLINE);\n                     }\n-\t\t\t\t}\n-\n-\t\t\t}\n-\n-\t\t\tfw.close();\n-\t\t} catch (Throwable ex) {\n-\t\t\tex.printStackTrace();\n-\t\t\ttry {\n-\t\t\t\tsession.cancel();\n-\t\t\t\t// repairAfterError(file, backup, INIT_OK);\n-\t\t\t} catch (IOException e) {\n-\t\t\t\t// Argh, another error? Can we do anything?\n-\t\t\t\te.printStackTrace();\n-                throw new SaveException(ex.getMessage()+\"\\n\"+\n-                        Globals.lang(\"Warning: could not complete file repair; your file may \"\n-                        +\"have been corrupted. Error message\")+\": \"+e.getMessage());\n+                }\n \n-\t\t\t}\n-\t\t\tthrow new SaveException(ex.getMessage(), exceptionCause);\n-\t\t}\n+            }\n \n-\t\treturn session;\n+            fw.close();\n+        } catch (Throwable ex) {\n+            ex.printStackTrace();\n+            try {\n+                session.cancel();\n+                // repairAfterError(file, backup, INIT_OK);\n+            } catch (IOException e) {\n+                // Argh, another error? Can we do anything?\n+                e.printStackTrace();\n+                throw new SaveException(ex.getMessage() + \"\\n\"\n+                        + Globals.lang(\"Warning: could not complete file repair; your file may \"\n+                                + \"have been corrupted. Error message\") + \": \" + e.getMessage());\n \n+            }\n+            throw new SaveException(ex.getMessage(), exceptionCause);\n+        }\n \n-\t}\n+        return session;\n \n-    private enum SaveOrder {\n-    \tStandard, Original, Title, TableSort\n     }\n-    \n+\n     private static class SaveSettings {\n         public final String pri, sec, ter;\n         public final boolean priD, secD, terD;\n-        \n+\n         public SaveSettings(boolean isSaveOperation) {\n-        \t/* four options:\n-        \t * 1. ordered by author/editor/year (saveInStandardOrder)\n-        \t * 2. original order (saveInOriginalOrder) -- not hit here as SaveSettings is not called in that case\n-        \t * 3. current table sort order (*everything else*)\n-        \t * 4. ordered by title (saveInTitleOrder)\n-        \t */\n-        \tSaveOrder saveOrder;\n-        \tString prefix = isSaveOperation ? \"save\" :  \"export\";\n-        \tif (Globals.prefs.getBoolean(prefix + \"InStandardOrder\")) {\n-        \t\tsaveOrder = SaveOrder.Standard;\n-        \t} else if (Globals.prefs.getBoolean(prefix + \"InTitleOrder\")) {\n-        \t\tsaveOrder = SaveOrder.Title;\n-//        \t} else if (Globals.prefs.getBoolean(prefix + \"InOriginalOrder\")) {\n-        \t\t// this case is never hit as SaveSettings() is never called if InOriginalOrder is true\n-//        \t\tsaveOrder = SaveOrder.Original;\n-        \t} else {\n-        \t\tsaveOrder = SaveOrder.TableSort;\n-        \t}\n-\n-        \tswitch (saveOrder) {\n-        \tcase TableSort:\n+            /* three options:\n+             * 1. original order (saveInOriginalOrder) -- not hit here as SaveSettings is not called in that case\n+             * 2. current table sort order\n+             * 3. ordered by specified order\n+             */\n+            // This case should never behit as SaveSettings() is never called if InOriginalOrder is true\n+            assert isSaveOperation && !Globals.prefs.getBoolean(JabRefPreferences.SAVE_IN_ORIGINAL_ORDER);\n+            assert !isSaveOperation && !Globals.prefs.getBoolean(JabRefPreferences.EXPORT_IN_ORIGINAL_ORDER);\n+\n+            if (isSaveOperation && Globals.prefs.getBoolean(JabRefPreferences.SAVE_IN_SPECIFIED_ORDER)) {\n+                pri = Globals.prefs.get(JabRefPreferences.SAVE_PRIMARY_SORT_FIELD);\n+                sec = Globals.prefs.get(JabRefPreferences.SAVE_SECONDARY_SORT_FIELD);\n+                ter = Globals.prefs.get(JabRefPreferences.SAVE_TERTIARY_SORT_FIELD);\n+                priD = Globals.prefs.getBoolean(JabRefPreferences.SAVE_PRIMARY_SORT_DESCENDING);\n+                secD = Globals.prefs.getBoolean(JabRefPreferences.SAVE_SECONDARY_SORT_DESCENDING);\n+                terD = Globals.prefs.getBoolean(JabRefPreferences.SAVE_TERTIARY_SORT_DESCENDING);\n+            } else if (!isSaveOperation && Globals.prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER)) {\n+                pri = Globals.prefs.get(JabRefPreferences.EXPORT_PRIMARY_SORT_FIELD);\n+                sec = Globals.prefs.get(JabRefPreferences.EXPORT_SECONDARY_SORT_FIELD);\n+                ter = Globals.prefs.get(JabRefPreferences.EXPORT_TERTIARY_SORT_FIELD);\n+                priD = Globals.prefs.getBoolean(JabRefPreferences.EXPORT_PRIMARY_SORT_DESCENDING);\n+                secD = Globals.prefs.getBoolean(JabRefPreferences.EXPORT_SECONDARY_SORT_DESCENDING);\n+                terD = Globals.prefs.getBoolean(JabRefPreferences.EXPORT_TERTIARY_SORT_DESCENDING);\n+            } else {\n                 // The setting is to save according to the current table order.\n-                pri = Globals.prefs.get(\"priSort\");\n-                sec = Globals.prefs.get(\"secSort\");\n-                // sorted as they appear on the screen.\n-                ter = Globals.prefs.get(\"terSort\");\n-                priD = Globals.prefs.getBoolean(\"priDescending\");\n-                secD = Globals.prefs.getBoolean(\"secDescending\");\n-                terD = Globals.prefs.getBoolean(\"terDescending\");\n-                break;\n-        \tcase Title:\n-        \t\t// The setting is to not save in standard order, but in title order: title, author, editor\n-        \t\tpri = \"title\";\n-                sec = \"author\";\n-                ter = \"editor\";\n-                priD = false;\n-                secD = false;\n-                terD = false;\n-                break;\n-        \tcase Standard:\n-        \tdefault: // required to get rid of Java compile errors\n-                pri = \"author\";\n-                sec = \"editor\";\n-                ter = \"year\";\n-                priD = false;\n-                secD = false;\n-                terD = true;\n-        \t\tbreak;\n-        \t}\n+                pri = Globals.prefs.get(JabRefPreferences.PRIMARY_SORT_FIELD);\n+                sec = Globals.prefs.get(JabRefPreferences.SECONDARY_SORT_FIELD);\n+                ter = Globals.prefs.get(JabRefPreferences.TERTIARY_SORT_FIELD);\n+                priD = Globals.prefs.getBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING);\n+                secD = Globals.prefs.getBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING);\n+                terD = Globals.prefs.getBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING);\n+            }\n         }\n     }\n-    \n+\n     private static List<Comparator<BibtexEntry>> getSaveComparators(boolean isSaveOperation) {\n         SaveSettings saveSettings = new SaveSettings(isSaveOperation);\n \n         List<Comparator<BibtexEntry>> comparators = new ArrayList<Comparator<BibtexEntry>>();\n-        if (isSaveOperation)\n+        if (isSaveOperation) {\n             comparators.add(new CrossRefEntryComparator());\n+        }\n         comparators.add(new FieldComparator(saveSettings.pri, saveSettings.priD));\n         comparators.add(new FieldComparator(saveSettings.sec, saveSettings.secD));\n         comparators.add(new FieldComparator(saveSettings.ter, saveSettings.terD));\n         comparators.add(new FieldComparator(BibtexFields.KEY_FIELD));\n-        \n+\n         return comparators;\n     }\n-    \n+\n     /**\n-\t * Saves the database to file, including only the entries included in the\n-\t * supplied input array bes.\n-\t * \n-\t * @return A List containing warnings, if any.\n-\t */\n+     * Saves the database to file, including only the entries included in the\n+     * supplied input array bes.\n+     *\n+     * @return A List containing warnings, if any.\n+     */\n     @SuppressWarnings(\"unchecked\")\n-\tpublic static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData metaData,\n-                                                 File file, JabRefPreferences prefs, BibtexEntry[] bes, String encoding) throws SaveException\n-    {\n-\n-    TreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>(); // Map\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// to\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// collect\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// entry\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// definitions\n-    // that we must save along with entries using them.\n+    public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData metaData,\n+            File file, JabRefPreferences prefs, BibtexEntry[] bes, String encoding) throws SaveException {\n+\n+        TreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>(); // Map\n+        // to\n+        // collect\n+        // entry\n+        // type\n+        // definitions\n+        // that we must save along with entries using them.\n \n         BibtexEntry be = null;\n         boolean backup = prefs.getBoolean(\"backup\");\n@@ -388,8 +371,7 @@ public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData m\n             throw new SaveException(e.getMessage());\n         }\n \n-        try\n-        {\n+        try {\n \n             // Define our data stream.\n             VerifyingWriter fw = session.getWriter();\n@@ -401,119 +383,114 @@ public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData m\n             writePreamble(fw, database.getPreamble());\n \n             // Write strings if there are any.\n-        writeStrings(fw, database);\n+            writeStrings(fw, database);\n \n             // Write database entries. Take care, using CrossRefEntry-\n             // Comparator, that referred entries occur after referring\n             // ones. Apart from crossref requirements, entries will be\n             // sorted as they appear on the screen.\n+            List<Comparator<BibtexEntry>> comparators = getSaveComparators(true);\n \n-        List<Comparator<BibtexEntry>> comparators = getSaveComparators(true);\n-\n-        // Use glazed lists to get a sorted view of the entries:\n-        BasicEventList entryList = new BasicEventList();\n-        SortedList sorter = new SortedList(entryList, new FieldComparatorStack<BibtexEntry>(comparators));\n+            // Use glazed lists to get a sorted view of the entries:\n+            BasicEventList entryList = new BasicEventList();\n+            SortedList sorter = new SortedList(entryList, new FieldComparatorStack<BibtexEntry>(comparators));\n \n-        if ((bes != null) && (bes.length > 0))\n-        for (int i=0; i<bes.length; i++) {\n-            sorter.add(bes[i]);\n-        }\n+            if ((bes != null) && (bes.length > 0)) {\n+                for (int i = 0; i < bes.length; i++) {\n+                    sorter.add(bes[i]);\n+                }\n+            }\n \n             FieldFormatter ff = new LatexFieldFormatter();\n \n-            for (Iterator<BibtexEntry> i = sorter.iterator(); i.hasNext();)\n-            {\n+            for (Iterator<BibtexEntry> i = sorter.iterator(); i.hasNext();) {\n                 be = (i.next());\n \n         // Check if we must write the type definition for this\n-        // entry, as well. Our criterion is that all non-standard\n-        // types (*not* customized standard types) must be written.\n-        BibtexEntryType tp = be.getType();\n-        if (BibtexEntryType.getStandardType(tp.getName()) == null) {\n-            types.put(tp.getName(), tp);\n-        }\n-\n-        be.write(fw, ff, true);\n-        fw.write(Globals.NEWLINE);\n-        }\n+                // entry, as well. Our criterion is that all non-standard\n+                // types (*not* customized standard types) must be written.\n+                BibtexEntryType tp = be.getType();\n+                if (BibtexEntryType.getStandardType(tp.getName()) == null) {\n+                    types.put(tp.getName(), tp);\n+                }\n+\n+                be.write(fw, ff, true);\n+                fw.write(Globals.NEWLINE);\n+            }\n \n             // Write meta data.\n-            if (metaData != null)\n-            {\n+            if (metaData != null) {\n                 metaData.writeMetaData(fw);\n             }\n \n-        // Write type definitions, if any:\n-        if (types.size() > 0) {\n-        for (Iterator<String> i=types.keySet().iterator(); i.hasNext();) {\n-            CustomEntryType tp = (CustomEntryType)types.get(i.next());\n-            tp.save(fw);\n-            fw.write(Globals.NEWLINE);\n-        }\n+            // Write type definitions, if any:\n+            if (types.size() > 0) {\n+                for (Iterator<String> i = types.keySet().iterator(); i.hasNext();) {\n+                    CustomEntryType tp = (CustomEntryType) types.get(i.next());\n+                    tp.save(fw);\n+                    fw.write(Globals.NEWLINE);\n+                }\n \n-        }\n+            }\n \n             fw.close();\n-        }\n-         catch (Throwable ex)\n-        {\n+        } catch (Throwable ex) {\n             try {\n                 session.cancel();\n                 //repairAfterError(file, backup, status);\n             } catch (IOException e) {\n                 // Argh, another error? Can we do anything?\n                 e.printStackTrace();\n-                throw new SaveException(ex.getMessage()+\"\\n\"+\n-                        Globals.lang(\"Warning: could not complete file repair; your file may \"\n-                        +\"have been corrupted. Error message\")+\": \"+e.getMessage());\n+                throw new SaveException(ex.getMessage() + \"\\n\"\n+                        + Globals.lang(\"Warning: could not complete file repair; your file may \"\n+                                + \"have been corrupted. Error message\") + \": \" + e.getMessage());\n             }\n             throw new SaveException(ex.getMessage(), be);\n-    }\n+        }\n \n         return session;\n \n     }\n \n-\n     /**\n      * This method attempts to get a Reader for the file path given, either by\n-     * loading it as a resource (from within jar), or as a normal file.\n-     * If unsuccessful (e.g. file not found), an IOException is thrown.\n+     * loading it as a resource (from within jar), or as a normal file. If\n+     * unsuccessful (e.g. file not found), an IOException is thrown.\n      */\n     public static Reader getReader(String name) throws IOException {\n-      Reader reader = null;\n-      // Try loading as a resource first. This works for files inside the jar:\n-      URL reso = Globals.class.getResource(name);\n+        Reader reader = null;\n+        // Try loading as a resource first. This works for files inside the jar:\n+        URL reso = Globals.class.getResource(name);\n \n-      // If that didn't work, try loading as a normal file URL:\n-      if (reso != null) {\n-        try {\n-          reader = new InputStreamReader(reso.openStream());\n-        } catch (FileNotFoundException ex) {\n-          throw new IOException(Globals.lang(\"Could not find layout file\")+\": '\"+name+\"'.\");\n-        }\n-      } else {\n-        File f = new File(name);\n-        try {\n-          reader = new FileReader(f);\n-        } catch (FileNotFoundException ex) {\n-          throw new IOException(Globals.lang(\"Could not find layout file\")+\": '\"+name+\"'.\");\n+        // If that didn't work, try loading as a normal file URL:\n+        if (reso != null) {\n+            try {\n+                reader = new InputStreamReader(reso.openStream());\n+            } catch (FileNotFoundException ex) {\n+                throw new IOException(Globals.lang(\"Could not find layout file\") + \": '\" + name + \"'.\");\n+            }\n+        } else {\n+            File f = new File(name);\n+            try {\n+                reader = new FileReader(f);\n+            } catch (FileNotFoundException ex) {\n+                throw new IOException(Globals.lang(\"Could not find layout file\") + \": '\" + name + \"'.\");\n+            }\n         }\n-      }\n \n-      return reader;\n+        return reader;\n     }\n \n     /*\n-    * We have begun to use getSortedEntries() for both database save operations\n-    * and non-database save operations.  In a non-database save operation\n-    * (such as the exportDatabase call), we do not wish to use the\n-    * global preference of saving in standard order.\n-    */\n+     * We have begun to use getSortedEntries() for both database save operations\n+     * and non-database save operations.  In a non-database save operation\n+     * (such as the exportDatabase call), we do not wish to use the\n+     * global preference of saving in standard order.\n+     */\n     @SuppressWarnings(\"unchecked\")\n-\tpublic static List<BibtexEntry> getSortedEntries(BibtexDatabase database, Set<String> keySet, boolean isSaveOperation) {\n-        boolean inOriginalOrder = isSaveOperation ? Globals.prefs.getBoolean(\"saveInOriginalOrder\") :\n-            Globals.prefs.getBoolean(\"exportInOriginalOrder\");\n+    public static List<BibtexEntry> getSortedEntries(BibtexDatabase database, Set<String> keySet, boolean isSaveOperation) {\n+        boolean inOriginalOrder = isSaveOperation ? Globals.prefs.getBoolean(\"saveInOriginalOrder\")\n+                : Globals.prefs.getBoolean(\"exportInOriginalOrder\");\n         List<Comparator<BibtexEntry>> comparators;\n         if (inOriginalOrder) {\n             // Sort entries based on their creation order, utilizing the fact\n@@ -524,14 +501,15 @@ public static Reader getReader(String name) throws IOException {\n         } else {\n             comparators = getSaveComparators(isSaveOperation);\n         }\n-        \n+\n         // Use glazed lists to get a sorted view of the entries:\n         FieldComparatorStack<BibtexEntry> comparatorStack = new FieldComparatorStack<BibtexEntry>(comparators);\n         BasicEventList entryList = new BasicEventList();\n         SortedList sorter = new SortedList(entryList, comparatorStack);\n \n-        if (keySet == null)\n+        if (keySet == null) {\n             keySet = database.getKeySet();\n+        }\n \n         if (keySet != null) {\n             Iterator<String> i = keySet.iterator();\n@@ -543,19 +521,16 @@ public static Reader getReader(String name) throws IOException {\n         return sorter;\n     }\n \n-    /** \n+    /**\n      * @return true iff the entry has a nonzero value in its field.\n      */\n-    private static boolean nonZeroField(BibtexEntry be, String field)\n-    {\n+    private static boolean nonZeroField(BibtexEntry be, String field) {\n         String o = (be.getField(field));\n \n         return ((o != null) && !o.equals(\"0\"));\n     }\n }\n \n-\n-\n ///////////////////////////////////////////////////////////////////////////////\n //  END OF FILE.\n ///////////////////////////////////////////////////////////////////////////////, @@ -1352,11 +1352,11 @@ else if (i == URL_COL)\n \n         /*\n          * // Default sort order: String[] sortFields = new String[]\n-         * {Globals.prefs.get(\"priSort\"), Globals.prefs.get(\"secSort\"),\n-         * Globals.prefs.get(\"terSort\")}; boolean[] sortDirections = new\n-         * boolean[] {Globals.prefs.getBoolean(\"priDescending\"),\n-         * Globals.prefs.getBoolean(\"secDescending\"),\n-         * Globals.prefs.getBoolean(\"terDescending\")}; // descending\n+         * {Globals.prefs.get(JabRefPreferences.PRIMARY_SORT_FIELD), Globals.prefs.get(JabRefPreferences.SECONDARY_SORT_FIELD),\n+         * Globals.prefs.get(JabRefPreferences.TERTIARY_SORT_FIELD)}; boolean[] sortDirections = new\n+         * boolean[] {Globals.prefs.getBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING),\n+         * Globals.prefs.getBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING),\n+         * Globals.prefs.getBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING)}; // descending\n          */\n         sortedList.getReadWriteLock().writeLock().lock();\n         comparatorChooser.appendComparator(PAD, 0, false);, @@ -377,14 +377,19 @@ private void setupComparatorChooser() {\n             comparators.add(new FieldComparator(tableFormat.getColumnName(i).toLowerCase()));\n         }\n \n-\n         // Set initial sort columns:\n \n         // Default sort order:\n-        String[] sortFields = new String[] {Globals.prefs.get(\"priSort\"), Globals.prefs.get(\"secSort\"),\n-            Globals.prefs.get(\"terSort\")};\n-        boolean[] sortDirections = new boolean[] {Globals.prefs.getBoolean(\"priDescending\"),\n-            Globals.prefs.getBoolean(\"secDescending\"), Globals.prefs.getBoolean(\"terDescending\")}; // descending\n+        String[] sortFields = new String[] {\n+            Globals.prefs.get(JabRefPreferences.PRIMARY_SORT_FIELD), \n+            Globals.prefs.get(JabRefPreferences.SECONDARY_SORT_FIELD),\n+            Globals.prefs.get(JabRefPreferences.TERTIARY_SORT_FIELD)\n+        };\n+        boolean[] sortDirections = new boolean[]{\n+            Globals.prefs.getBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING),\n+            Globals.prefs.getBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING),\n+            Globals.prefs.getBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING)\n+        }; // descending\n \n         sortedForTable.getReadWriteLock().writeLock().lock();\n         for (int i=0; i<sortFields.length; i++) {\n@@ -414,24 +419,24 @@ public void actionPerformed(ActionEvent actionEvent) {\n                 // Update preferences:\n                 int count = Math.min(fields.size(), order.size());\n                 if (count >= 1) {\n-                    Globals.prefs.put(\"priSort\", fields.get(0));\n-                    Globals.prefs.putBoolean(\"priDescending\", order.get(0));\n+                    Globals.prefs.put(JabRefPreferences.PRIMARY_SORT_FIELD, fields.get(0));\n+                    Globals.prefs.putBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING, order.get(0));\n                 }\n                 if (count >= 2) {\n-                    Globals.prefs.put(\"secSort\", fields.get(1));\n-                    Globals.prefs.putBoolean(\"secDescending\", order.get(1));\n+                    Globals.prefs.put(JabRefPreferences.SECONDARY_SORT_FIELD, fields.get(1));\n+                    Globals.prefs.putBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING, order.get(1));\n                 }\n                 else {\n-                    Globals.prefs.put(\"secSort\", \"\");\n-                    Globals.prefs.putBoolean(\"secDescending\", false);\n+                    Globals.prefs.put(JabRefPreferences.SECONDARY_SORT_FIELD, \"\");\n+                    Globals.prefs.putBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING, false);\n                 }\n                 if (count >= 3) {\n-                    Globals.prefs.put(\"terSort\", fields.get(2));\n-                    Globals.prefs.putBoolean(\"terDescending\", order.get(2));\n+                    Globals.prefs.put(JabRefPreferences.TERTIARY_SORT_FIELD, fields.get(2));\n+                    Globals.prefs.putBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING, order.get(2));\n                 }\n                 else {\n-                    Globals.prefs.put(\"terSort\", \"\");\n-                    Globals.prefs.putBoolean(\"terDescending\", false);\n+                    Globals.prefs.put(JabRefPreferences.TERTIARY_SORT_FIELD, \"\");\n+                    Globals.prefs.putBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING, false);\n                 }\n             }\n , ", 1157, 749, "\"added, modified, modified, modified, modified, modified, modified, modified, \"", 1906], ["Simon Harrer", "Gradle build works basically. Reuses existing folder structure.", "03/12/14, 05:20:08 PM", "Simon Harrer", "a66468793a5dcba41f0f9307f8d762baecc7f331", ["build-wrapper.xml", "build.gradle", "src/extensions/SimpleCsvImporter.java"], "@@ -0,0 +1,3 @@\n+<project default=\"test\">\n+    <include file=\"build.xml\" as=\"antTargets\"/>\n+</project>\n\\ No newline at end of file, @@ -0,0 +1,61 @@\n+apply plugin: \"java\"\n+apply plugin: \"eclipse\"\n+apply plugin: \"idea\"\n+apply plugin: \"application\"\n+\n+repositories {\n+    mavenCentral()\n+}\n+\n+sourceSets {\n+    main {\n+        java {\n+            srcDir \"src/java\"\n+        }\n+        resources {\n+            srcDirs = [\"src\"]\n+        }\n+    }\n+}\n+\n+dependencies {\n+\n+    // jgoodies\n+    compile 'com.jgoodies:jgoodies-common:1.4.0'\n+    compile 'com.jgoodies:jgoodies-forms:1.6.0'\n+    compile 'com.jgoodies:jgoodies-looks:2.5.2'\n+\n+    compile 'org.apache.pdfbox:pdfbox:1.7.1'\n+    compile 'org.apache.pdfbox:fontbox:1.7.1'\n+    compile 'org.apache.pdfbox:jempbox:1.7.1'\n+\n+\n+    compile 'org.openoffice:juh:3.2.1'\n+    compile 'org.openoffice:jurt:3.2.1'\n+    compile 'org.openoffice:ridl:3.2.1'\n+    compile 'org.openoffice:unoil:3.2.1'\n+\n+    compile 'org.antlr:antlr:3.4'\n+\n+    compile 'mysql:mysql-connector-java:5.0.7'\n+    compile 'org.postgresql:postgresql:9.2-1002-jdbc4'\n+\n+    compile fileTree(dir: 'lib', includes: ['glazedlists-1.8.0_java15.jar', 'jayatana-1.2.4.jar', 'microba.jar', 'spin.jar'])\n+\n+    // not available in maven repository\n+    compile fileTree(dir: 'lib/plugin', includes: ['jpf.jar', 'jpf-boot.jar', 'commons-logging.jar', 'JPFCodeGenerator-rt.jar'])\n+\n+    compile fileTree(dir: 'lib/spl/jersey', includes: ['*.jar'])\n+    compile fileTree(dir: 'lib/spl/sciplore', includes: ['*.jar'])\n+\n+    compile 'junit:junit:3.8.2'\n+}\n+\n+// use ant targets with prefix antTargets.XXXXX\n+ant.importBuild \"build-wrapper.xml\"\n+\n+compileJava.dependsOn \"antTargets.generate\"\n+\n+task wrapper(type: Wrapper) {\n+    gradleVersion = '1.11'\n+}\n\\ No newline at end of file, @@ -13,8 +13,14 @@ public String getFormatName() {\n   public boolean isRecognizedFormat(InputStream stream) throws IOException {\n     return true; // this is discouraged except for demonstration purposes\n   }\n-  \n-  public List importEntries(InputStream stream) throws IOException {    \n+\n+    @Override\n+    public List<BibtexEntry> importEntries(InputStream in, OutputPrinter status) throws IOException {\n+        // MUST BE IMPLEMENTED\n+        return null;\n+    }\n+\n+    public List importEntries(InputStream stream) throws IOException {\n     ArrayList bibitems = new ArrayList();\n     BufferedReader in = new BufferedReader(ImportFormatReader.getReaderDefaultEncoding(stream));\n       , ", 72, 2, "\"added, added, modified, \"", 74], ["Egon Willighagen", "Some example new Dutch translations via the GitHub web page.", "03/15/14, 09:33:10 AM", "Egon Willighagen", "0783fd8ea77776e69372e60bde2df3d31abf852e", ["src/resource/JabRef_nl.properties"], "@@ -34,7 +34,7 @@ Abbreviate_journal_names_of_the_selected_entries_(ISO_abbreviation)=Kort_tijdsch\n Abbreviate_journal_names_of_the_selected_entries_(MEDLINE_abbreviation)=Kort_tijdschriftennamen_met_de_geselecteerde_entries_af_(MEDLINE_afkorting)\n \n Abbreviate_names=Namen_afkorten\n-Abbreviated_%0_journal_names.=\n+Abbreviated_%0_journal_names.=Afgekorte_tijdschrift_namen\n \n Abbreviation=Afkorting\n \n@@ -112,7 +112,7 @@ Append_contents_from_a_BibTeX_database_into_the_currently_viewed_database=Voeg_d\n Append_database=Database_invoegen\n \n append_the_selected_text_to_bibtex_key=voeg_de_geselecteerde_tekst_toe_aan_BibTeX-sleutel\n-Application=\n+Application=Programma\n \n Apply=Toepassen\n \n@@ -159,7 +159,7 @@ Automatically_created_groups=Automatisch_aangemaakte_groepen\n \n Automatically_hide_groups_interface_when_switching_to_a_database_that_contains_no_groups=Verberg_automatisch_het_groepenvenster_bij_overgang_naar_een_database_die_geen_groepen_bevat\n \n-Automatically_remove_exact_duplicates=\n+Automatically_remove_exact_duplicates=Automatisch_exacte_kopie\\u00ebn_verwijderen\n \n Automatically_show_groups_interface_when_switching_to_a_database_that_contains_groups=Toon_automatisch_het_groepenvenster_bij_overgang_naar_een_database_die_groepen_bevat\n \n@@ -186,7 +186,7 @@ Background_color_for_optional_fields=Achtergrondkleur_voor_optionele_velden\n Background_color_for_required_fields=Achtergrondkleur_voor_vereiste_velden\n \n Backup_old_file_when_saving=Maak_reservekopie_van_oud_bestand_bij_het_opslaan\n-Beta_version=\n+Beta_version=Beta_versie\n \n BibTeX_key=BibTeX-sleutel\n \n@@ -233,7 +233,7 @@ Change_case=Verander_geval\n \n Change_entry_type=Wijzig_entry_type\n \n-Change_file_type=\n+Change_file_type=Wijzig_bestandstype\n \n change_key=wijzig_sleutel\n \n@@ -305,8 +305,8 @@ Command_line_id=Commandoregel_id\n \n Complete_record=Vervolledig_record\n \n-Connect=\n-Connect_to_SQL_database=\n+Connect=Verbinden\n+Connect_to_SQL_database=Verbind_met_een_SQL_database\n Connection_to_IEEEXplore_failed=\n \n Contained_in=bevat_in\n@@ -2320,7 +2320,7 @@ Run_HTML_converter_on_title=\n Searching...=\n You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?=\n Confirm_selection=\n-Unknown_DOI\\:_'%0'.=\n+Unknown_DOI\\:_'%0'.=Unbekende_DOI\\:_'%0'.\n Get_BibTeX_entry_from_DOI=\n Prefer_converting_subscripts_and_superscripts_to_equations_rather_than_text=\n Add_{}_to_specified_title_words_on_search_to_keep_the_correct_case=\n@@ -2337,7 +2337,7 @@ Unknown_DiVA_entry\\:_'%0'.=\n Get_BibTeX_entry_from_DiVA=\n Log=\n \n-ISO_690=\n+ISO_690=ISO_690\n \n Add_brackets_and_replace_separators_with_their_non-breaking_version_for_units=\n Add_new_entry_and_keep_both_old_entries=\n@@ -2381,9 +2381,9 @@ Run_Unicode_converter_on_title,_author(s),_and_abstract=\n Database_has_changed._Do_you_want_to_save_before_closing?=\n Host=\n Invalid_setting=\n-Network=\n+Network=Netwerk\n Please_specify_both_hostname_and_port=\n-Port=\n+Port=Poort\n Start_field_contents_in_same_column=\n Use_camel_case_for_field_names_(e.g.,_\"HowPublished\"_instead_of_\"howpublished\")=\n Use_custom_proxy_configuration=\n@@ -2393,7 +2393,7 @@ Rebind_C-a,_too=\n \n Show_number_of_elements_contained_in_each_group=\n \n-Open_folder=\n-Opened_%0_folder(s).=\n+Open_folder=Open_map\n+Opened_%0_folder(s).=%0_map(pen)_geopend.\n \n Searches_for_unlinked_PDF_files_on_the_file_system=, ", 13, 13, "\"modified, \"", 26], ["jtornero", "Spanish translation update", "03/17/14, 09:28:26 PM", "jtornero", "71357a4f5234b5eed78eb6eba9d50a0563398cb4", ["src/resource/JabRef_da.properties", "src/resource/JabRef_de.properties", "src/resource/JabRef_en.properties", "src/resource/JabRef_es.properties", "src/resource/JabRef_fr.properties", "src/resource/JabRef_in.properties", "src/resource/JabRef_it.properties", "src/resource/JabRef_nl.properties", "src/resource/JabRef_no.properties", "src/resource/JabRef_pt_BR.properties", "src/resource/JabRef_ru.properties", "src/resource/JabRef_vi.properties", "src/resource/JabRef_zh.properties"], "@@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n %0_contains_the_Regular_Expression_<b>%1</b>=%0_indeholder_regul\\u00e6rudtrykket_<b>%1</b>\n %0_contains_the_term_<b>%1</b>=%0_indeholder_udtrykket_<b>%1</b>, @@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.55 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n \n %0_contains_the_Regular_Expression_<b>%1</b>=%0_den_regul\\u00e4ren_Ausdruck_<b>%1</b>_enth\\u00e4lt, @@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n \n %0_contains_the_Regular_Expression_<b>%1</b>=%0%0&nbsp;contains_the_Regular_Expression_<b>%1</b>\n@@ -1097,8 +1097,6 @@ Open_database=Open_database\n \n Open_editor_when_a_new_entry_is_created=Open_editor_when_a_new_entry_is_created\n \n-Open_folder=Open_folder\n-\n Open_file=Open_file\n \n Open_last_edited_databases_at_startup=Open_last_edited_databases_at_startup\n@@ -1957,9 +1955,9 @@ Move_file_to_file_directory.=Move_file_to_file_directory.\n Rename_file_to=Rename_file_to\n <b>All_Entries</b>_(this_group_cannot_be_edited_or_removed)=<b>All_Entries</b>_(this_group_cannot_be_edited_or_removed)\n static_group=static_group\n-includes_subgroups=includes_subgroups\n-refines_supergroup=refines_supergroup\n dynamic_group=dynamic_group\n+refines_supergroup=refines_supergroup\n+includes_subgroups=includes_subgroups\n contains=contains\n search_expression=search_expression\n \n@@ -2184,16 +2182,16 @@ No_entry_needed_a_clean_up=No_entry_needed_a_clean_up\n One_entry_needed_a_clean_up=One_entry_needed_a_clean_up\n %0_entries_needed_a_clean_up=%0_entries_needed_a_clean_up\n Error_importing_from_database=Error_importing_from_database\n-%0_databases_will_be_imported=%0_databases_will_be_imported\n-Imported_%0_databases_successfully=Imported_%0_databases_successfully\n Minimize_to_system_tray=Minimize_to_system_tray\n \n Error_downloading_file_'%0'=Error_downloading_file_'%0'\n Download_failed=Download_failed\n+%0_databases_will_be_imported=%0_databases_will_be_imported\n \n Importing_cancelled=Importing_cancelled\n There_are_no_available_databases_to_be_imported=There_are_no_available_databases_to_be_imported\n Import_from_SQL_database=Import_from_SQL_database\n+Imported_%0_databases_successfully=Imported_%0_databases_successfully\n <_CREATE_NEW_DATABASE_>=<_CREATE_NEW_DATABASE_>\n Remove_Selected=Remove_Selected\n SQL_Database_Exporter=SQL_Database_Exporter\n@@ -2245,80 +2243,80 @@ The_current_BibTeX_key_will_be_overwritten._Continue?=The_current_BibTeX_key_wil\n Overwrite_key=Overwrite_key\n Not_overwriting_existing_key._To_change_this_setting,_open_Options_->_Prefererences_->_BibTeX_key_generator=Not_overwriting_existing_key._To_change_this_setting,_open_Options_->_Prefererences_->_BibTeX_key_generator\n How_would_you_like_to_link_to_'%0'?=How_would_you_like_to_link_to_'%0'?\n-Marked_entries_as_relevant=Marked_entries_as_relevant\n-Marked_entries'_quality_as_good=Marked_entries'_quality_as_good\n-no_preview_available=no_preview_available\n-Enable_PDF_preview=Enable_PDF_preview\n-Show_one_letter_heading_for_icon_columns=Show_one_letter_heading_for_icon_columns\n-Help_on_special_fields=Help_on_special_fields\n-Enable_special_fields=Enable_special_fields\n-Show_rank=Show_rank\n-Compact_rank=Compact_rank\n-Show_quality=Show_quality\n-Show_priority=Show_priority\n-Show_relevance=Show_relevance\n-Synchronize_with_keywords=Synchronize_with_keywords\n-Write_values_of_special_fields_as_separate_fields_to_BibTeX=Write_values_of_special_fields_as_separate_fields_to_BibTeX\n-You_have_changed_settings_for_special_fields.=You_have_changed_settings_for_special_fields.\n-Changed_special_field_settings=Changed_special_field_settings\n Bibtex_key_patterns=Bibtex_key_patterns\n+Changed_special_field_settings=Changed_special_field_settings\n+Clear_priority=Clear_priority\n+Clear_rank=Clear_rank\n+Compact_rank=Compact_rank\n Convert_1st,_2nd,_..._to_real_superscripts=Convert_1st,_2nd,_..._to_real_superscripts\n-Manage_content_selectors=Manage_content_selectors\n Dropped_comment_from_database=Dropped_comment_from_database\n-Synchronized_special_fields_based_on_keywords=Synchronized_special_fields_based_on_keywords\n-Clear_priority=Clear_priority\n+Enable_PDF_preview=Enable_PDF_preview\n+Enable_special_fields=Enable_special_fields\n+Five_stars=Five_stars\n+Four_stars=Four_stars\n+Help_on_special_fields=Help_on_special_fields\n+Keywords_of_selected_entries=Keywords_of_selected_entries\n+Manage_content_selectors=Manage_content_selectors\n+Manage_keywords=Manage_keywords\n+Marked_entries'_quality_as_good=Marked_entries'_quality_as_good\n+Marked_entries_as_relevant=Marked_entries_as_relevant\n No_priority_information=No_priority_information\n-Set_priority_to_high=Set_priority_to_high\n+No_rank_information=No_rank_information\n+One_star=One_star\n+Priority=Priority\n Priority_high=Priority_high\n-Set_priority_to_medium=Set_priority_to_medium\n-Priority_medium=Priority_medium\n-Set_priority_to_low=Set_priority_to_low\n Priority_low=Priority_low\n-Priority=Priority\n-Toogle_quality_assured=Toogle_quality_assured\n+Priority_medium=Priority_medium\n Quality=Quality\n Rank=Rank\n-Clear_rank=Clear_rank\n-No_rank_information=No_rank_information\n+Relevance=Relevance\n+Set_priority_to_high=Set_priority_to_high\n+Set_priority_to_low=Set_priority_to_low\n+Set_priority_to_medium=Set_priority_to_medium\n+Set_rank_to_five_stars=Set_rank_to_five_stars\n+Set_rank_to_four_stars=Set_rank_to_four_stars\n Set_rank_to_one_star=Set_rank_to_one_star\n-One_star=One_star\n-Set_rank_to_two_stars=Set_rank_to_two_stars\n-Two_stars=Two_stars\n Set_rank_to_three_stars=Set_rank_to_three_stars\n+Set_rank_to_two_stars=Set_rank_to_two_stars\n+Show_one_letter_heading_for_icon_columns=Show_one_letter_heading_for_icon_columns\n+Show_priority=Show_priority\n+Show_quality=Show_quality\n+Show_rank=Show_rank\n+Show_relevance=Show_relevance\n+Synchronize_with_keywords=Synchronize_with_keywords\n+Synchronized_special_fields_based_on_keywords=Synchronized_special_fields_based_on_keywords\n Three_stars=Three_stars\n-Set_rank_to_four_stars=Set_rank_to_four_stars\n-Four_stars=Four_stars\n-Set_rank_to_five_stars=Set_rank_to_five_stars\n-Five_stars=Five_stars\n Toggle_relevance=Toggle_relevance\n-Relevance=Relevance\n-Manage_keywords=Manage_keywords\n-Keywords_of_selected_entries=Keywords_of_selected_entries\n+Toogle_quality_assured=Toogle_quality_assured\n+Two_stars=Two_stars\n Update_keywords=Update_keywords\n+Write_values_of_special_fields_as_separate_fields_to_BibTeX=Write_values_of_special_fields_as_separate_fields_to_BibTeX\n+You_have_changed_settings_for_special_fields.=You_have_changed_settings_for_special_fields.\n+no_preview_available=no_preview_available\n+%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.=%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.\n+A_string_with_that_label_already_exists=A_string_with_that_label_already_exists\n+Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.=Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.\n \n Correct_the_entry,_and_reopen_editor_to_display/edit_source.=Correct_the_entry,_and_reopen_editor_to_display/edit_source.\n-When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above=When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above\n-If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.=If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.\n-To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.\n-Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!\n-A_string_with_that_label_already_exists=A_string_with_that_label_already_exists\n Could_not_connect_to_a_running_gnuserv_process._Make_sure_that_Emacs_or_XEmacs_is_running,<BR>and_that_the_server_has_been_started_(by_running_the_command_'server-start'/'gnuserv-start').=Could_not_connect_to_a_running_gnuserv_process._Make_sure_that_Emacs_or_XEmacs_is_running,<BR>and_that_the_server_has_been_started_(by_running_the_command_'server-start'/'gnuserv-start').\n-Use_the_following_delimiter_character(s)\\:=Use_the_following_delimiter_character(s):\n+Could_not_connect_to_running_OpenOffice.\\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\\nIf_connecting_manually,_please_verify_program_and_library_paths.\\n\\nError_message\\:_=Could_not_connect_to_running_OpenOffice.\\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\\nIf_connecting_manually,_please_verify_program_and_library_paths.\\n\\nError_message:_\n Created_group_\"%0\".=Created_group_\"%0\".\n+If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.=If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.\n+Import_Metadata_From_PDF=Import_Metadata_From_PDF\n+Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.\n+Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!\n Removed_all_subgroups_of_group_\"%0\".=Removed_all_subgroups_of_group_\"%0\".\n-%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.=%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.\n+To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.\n Unable_to_connect._One_possible_reason_is_that_JabRef_and_OpenOffice/LibreOffice_are_not_both_running_in_either_32_bit_mode_or_64_bit_mode.=Unable_to_connect._One_possible_reason_is_that_JabRef_and_OpenOffice/LibreOffice_are_not_both_running_in_either_32_bit_mode_or_64_bit_mode.\n-Could_not_connect_to_running_OpenOffice.\\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\\nIf_connecting_manually,_please_verify_program_and_library_paths.\\n\\nError_message\\:_=Could_not_connect_to_running_OpenOffice.\\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\\nIf_connecting_manually,_please_verify_program_and_library_paths.\\n\\nError_message:_\n-Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.\n-Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.=Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.\n-Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.\n-Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.\n Unable_to_determine_plugin_name_and_version._This_may_not_be_a_valid_JabRef_plugin.=Unable_to_determine_plugin_name_and_version._This_may_not_be_a_valid_JabRef_plugin.\n-Import_Metadata_From_PDF=Import_Metadata_From_PDF\n+Use_the_following_delimiter_character(s)\\:=Use_the_following_delimiter_character(s):\n+When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above=When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above\n+Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.\n+Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.\n+Error_fetching_from_Google_Scholar=Error_fetching_from_Google_Scholar\n \n Run_HTML_converter_on_title=Run_HTML_converter_on_title\n Searching...=Searching...\n-Error_fetching_from_Google_Scholar=Error_fetching_from_Google_Scholar\n You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?=You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?\n Confirm_selection=Confirm_selection\n Unknown_DOI\\:_'%0'.=Unknown_DOI:_'%0'.\n@@ -2339,35 +2337,35 @@ Get_BibTeX_entry_from_DiVA=Get_BibTeX_entry_from_DiVA\n Log=Log\n \n ISO_690=ISO_690\n-\n-Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search=Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search\n-Use_Emacs_key_bindings=Use_Emacs_key_bindings\n-Merge_entries=Merge_entries\n-Show_URL_first=Show_URL_first\n-Show_DOI_first=Show_DOI_first\n-Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations=Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations\n Add_brackets_and_replace_separators_with_their_non-breaking_version_for_units=Add_brackets_and_replace_separators_with_their_non-breaking_version_for_units\n-First_entry=First_entry\n-Use_1st=Use_1st\n-None=None\n-Use_2nd=Use_2nd\n-Second_entry=Second_entry\n-You_have_to_choose_exactly_two_entries_to_merge.=You_have_to_choose_exactly_two_entries_to_merge.\n-Merged_entry=Merged_entry\n-Error_in_entry=Error_in_entry\n Add_new_entry_and_keep_both_old_entries=Add_new_entry_and_keep_both_old_entries\n-Replace_old_entries_with_new_entry=Replace_old_entries_with_new_entry\n Cancelled_merging_entries=Cancelled_merging_entries\n+Error_in_entry=Error_in_entry\n+First_entry=First_entry\n+\n+Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search=Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search\n+Merge_entries=Merge_entries\n Merged_entries_into_a_new_and_kept_the_old=Merged_entries_into_a_new_and_kept_the_old\n Merged_entries_into_a_new_and_removed_the_old=Merged_entries_into_a_new_and_removed_the_old\n+Merged_entry=Merged_entry\n+None=None\n Parse=Parse\n+Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations=Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations\n+Replace_old_entries_with_new_entry=Replace_old_entries_with_new_entry\n Result=Result\n+Second_entry=Second_entry\n+Show_DOI_first=Show_DOI_first\n+Show_URL_first=Show_URL_first\n+Use_1st=Use_1st\n+Use_2nd=Use_2nd\n+Use_Emacs_key_bindings=Use_Emacs_key_bindings\n+You_have_to_choose_exactly_two_entries_to_merge.=You_have_to_choose_exactly_two_entries_to_merge.\n \n Update_timestamp_on_modification=Update_timestamp_on_modification\n change_field=change_field\n+All_key_bindings_will_be_reset_to_their_defaults.=All_key_bindings_will_be_reset_to_their_defaults.\n \n Automatically_set_file_links=Automatically_set_file_links\n-All_key_bindings_will_be_reset_to_their_defaults.=All_key_bindings_will_be_reset_to_their_defaults.\n Continue?=Continue?\n Resetting_all_key_bindings=Resetting_all_key_bindings\n Save_entries_ordered_by_title=Save_entries_ordered_by_title\n@@ -2378,23 +2376,25 @@ Include_empty_fields=Include_empty_fields\n Field_saving_options=Field_saving_options\n Field_value_delimiter._E.g.,_\"author\\={x}\"_or_\"author\\='x'\"=Field_value_delimiter._E.g.,_\"author={x}\"_or_\"author='x'\"\n Run_Unicode_converter_on_title,_author(s),_and_abstract=Run_Unicode_converter_on_title,_author(s),_and_abstract\n+Database_has_changed._Do_you_want_to_save_before_closing?=Database_has_changed._Do_you_want_to_save_before_closing?\n+Host=Host\n+Invalid_setting=Invalid_setting\n+Network=Network\n+Please_specify_both_hostname_and_port=Please_specify_both_hostname_and_port\n+Port=Port\n \n Start_field_contents_in_same_column=Start_field_contents_in_same_column\n Use_camel_case_for_field_names_(e.g.,_\"HowPublished\"_instead_of_\"howpublished\")=Use_camel_case_for_field_names_(e.g.,_\"HowPublished\"_instead_of_\"howpublished\")\n-Database_has_changed._Do_you_want_to_save_before_closing?=Database_has_changed._Do_you_want_to_save_before_closing?\n Use_custom_proxy_configuration=Use_custom_proxy_configuration\n-Network=Network\n-Host=Host\n-Port=Port\n-Please_specify_both_hostname_and_port=Please_specify_both_hostname_and_port\n-Invalid_setting=Invalid_setting\n Clear_connection_settings=Clear_connection_settings\n Cleared_connection_settings.=Cleared_connection_settings.\n \n Rebind_C-a,_too=Rebind_C-a,_too\n \n Show_number_of_elements_contained_in_each_group=Show_number_of_elements_contained_in_each_group\n \n+Open_folder=Open_folder\n+Opened_%0_folder(s).=Opened_%0_folder(s).\n+\n \n Searches_for_unlinked_PDF_files_on_the_file_system=Searches_for_unlinked_PDF_files_on_the_file_system\n-Opened_%0_folder(s).=Opened_%0_folder(s)., @@ -1,6 +1,6 @@\n #!\n-#!_created/edited_by_Popeye_version_0.55_(https://github.com/koppor/popeye)\n-#!_encoding:ISO-8859-1\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n+#! encoding:ISO-8859-1\n %0_contains_the_Regular_Expression_<b>%1</b>=%0%0&nbsp;contiene_la_expresi\\u00f3n_regular_<b>%1</b>\n %0_contains_the_term_<b>%1</b>=%0%nbsp;contiene_el_t\\u00e9rmino_<b>%1</b>\n %0_doesn't_contain_the_Regular_Expression_<b>%1</b>=%0_no_contiene_la_Expresi\\u00f3n_Regular_<b>&1</b>\n@@ -307,6 +307,7 @@ Entry_type_names_are_not_allowed_to_contain_white_space_or_the_following_charact\n Entry_types=Tipos_de_entrada\n Error=Error\n Error\\:_=Error:\n+Error_converting_BibTeX_to_XMP\\:_%0=Error convirtiendo BibTeX a XMP:_%0\n Error_converting_XMP_to_'%0'...=Error_convirtiendo_XMP_a_'%0'...\n Error_exporting_to_clipboard=Error_exportando_al_portapapeles\n Error_in_field=Error_en_campo\n@@ -370,6 +371,7 @@ Finished_autosetting_external_links.=Se_ha_finalizado_la_configuraci\\u00f3n_auto\n Finished_synchronizing_%0_links._Entries_changed%c_%1.=Se_ha_finalizado_la_sincronizaci\\u00f3n_de_%0_enlaces._Se_cambiaron_%c_%1_entradas.\n Finished_writing_XMP-metadata._Wrote_to_%0_file(s).=Se_ha_finalizado_la_escritura_de_los_metadtos_XMP._Se_escribi\\u00f3_en_%0_archivo(s).\n Finished_writing_XMP_for_%0_file_(%1_skipped,_%2_errors).=Se_finaliz\\u00f3_la_escritura_XMP_en_archivo_%0_(%1_evitados,_%2_errores).\n+First_select_the_entries_you_want_keys_to_be_generated_for.=En primer lugar, seleccione las entradas para las que desea generar claves\n Fit_table_horizontally_on_screen=Ajustar_la_tabla_al_ancho_de_pantalla\n Float=Flotar\n Float_marked_entries=Flotar_entradas_marcadas\n@@ -758,6 +760,7 @@ Search_general_fields=Buscar_en_campos_generales\n Search_IEEEXplore=Buscar_en_IEEEXplore\n Search_optional_fields=Buscar_en_campos_opcionales\n Search_required_fields=Buscar_en_requeridos\n+Search_specified_field(s)=Buscar en campo(s) especificado(s)\n Searched_database._Global_number_of_hits=Se_ha_buscado_en_la_base_de_datos._N\\u00famero_global_de_coincidencias\n Searched_database._Number_of_hits=Se_ha_buscado_en_la_base_de_datos._N\\u00famero_de_aciertos\n Searching_for_%0_file=Buscando_el_archivo_%0\n@@ -1107,6 +1110,7 @@ Old_plugin_versions_will_be_deleted_next_time_JabRef_starts_up.=Las_versiones_an\n Formatter_not_found\\:_%0=Formateador_no_encontrado\\:_%0\n The_following_formatters_could_not_be_found=Los_siguientes_formateadores_no_se_pueden_encontrar\n Clear_inputarea=Limpiar_\\u00e1rea_de_entrada\n+Automatically_set_file_links_for_this_entry=Ajustar enlaces de archivo autom\\u00c3\\u00a1ticamente para esta entrada\n Could_not_save,_file_locked_by_another_JabRef_instance.=No_se_puede_guardar._Fichero_bloqueado_por_otra_instancia_JabRef.\n File_is_locked_by_another_JabRef_instance.=El_archivo_est\\u00e1_bloqueado_por_otra_instancia_de_JabRef.\n Do_you_want_to_override_the_file_lock?=\\u00bfQuiere_saltarse_el_bloqueo_de_archivo?\n@@ -1126,9 +1130,9 @@ Move_file_to_file_directory.=Mover_archivo_al_directorio_de_archivos.\n Rename_file_to=Renombrar_archivo_a\n <b>All_Entries</b>_(this_group_cannot_be_edited_or_removed)=<b>Todas_las_entradas</b>_(este_grupo_no_puede_ser_editado_o_eliminado)\n static_group=grupo_est\\u00e1tico\n-includes_subgroups=incluye_subgrupos\n-refines_supergroup=afina_supergrupo\n dynamic_group=grupo_din\\u00e1mico\n+refines_supergroup=afina_supergrupo\n+includes_subgroups=incluye_subgrupos\n contains=contiene\n search_expression=expresi\\u00f3n_de_b\\u00fasqueda\n Disable_file_renaming_in_non-native_file_dialog=Deshabilitar_renombrado_de_archivo_en_di\\u00e1logo_de_archivo_no_nativo.\n@@ -1139,6 +1143,7 @@ Error_while_fetching_from_ScienceDirect=Error_al_recuperar_desde_ScienceDirect\n Error_initializing_custom_export_format_from_string_'%0'=Error_inicializando_formato_de_exportaci\\u00f3n_personalizado_a_partir_de_la_cadena_'%0'\n BibLaTeX_mode=Modo_BibLaTex\n Optional_fields_2=Campos_opcionales_2\n+Waiting_for_save_operation_to_finish=Esperando a que acabe la operaci\\u00f3n de guardado\n Resolving_duplicate_BibTeX_keys...=Resolviendo_claves_BibTeX_duplicadas...\n Finished_resolving_duplicate_BibTeX_keys._%0_entries_modified.=Resoluci\\u00f3n_de_claves_BibTeX_duplicadas_finalizada._%0_entradas_modificadas.\n This_database_contains_one_or_more_duplicated_BibTeX_keys.=Esta_base_de_datos_contiene_una_o_m\\u00e1s_claves_BibTeX_duplicadas.\n@@ -1339,14 +1344,14 @@ No_entry_needed_a_clean_up=Ninguna_entrada_necesit\\u00f3_de_limpieza\n One_entry_needed_a_clean_up=S\\u00f3lo_una_entrada_necesit\\u00f3_limpieza\n %0_entries_needed_a_clean_up=%0_entradas_necesitarion_limpieza\n Error_importing_from_database=Error_al_importar_desde_base_de_datos\n-%0_databases_will_be_imported=%0_bases_de_datos_ser\\u00e1n_importadas\n-Imported_%0_databases_successfully=%0_bases_de_datos_importadas_con_\\u00e9xito\n Minimize_to_system_tray=Minimizar_a_la_bandeja_del_sistema\n Error_downloading_file_'%0'=Error_descargando_el_archivo_'%0'\n Download_failed=Fall\\u00f3_la_descarga\n+%0_databases_will_be_imported=%0_bases_de_datos_ser\\u00e1n_importadas\n Importing_cancelled=Importaci\\u00f3n_cancelada\n There_are_no_available_databases_to_be_imported=No_hay_bases_de_datos_disaponibles_para_importar\n Import_from_SQL_database=Importar_desde_base_de_datos_SQL\n+Imported_%0_databases_successfully=%0_bases_de_datos_importadas_con_\\u00e9xito\n <_CREATE_NEW_DATABASE_>=<_CREAR_NUEVA_BASE_DE_DATOS_>\n Remove_Selected=Eliminar_seleccionados\n SQL_Database_Exporter=Exportador_a_base_de_datos_SQL\n@@ -1361,6 +1366,9 @@ Unknown_preference_key_'%0'=Clave_de_preferencia_desconocida_'%0'\n Unable_to_clear_preferences.=No_es_posible_limpiar_preferencias.\n Reset_preferences_(key1,key2,..._or_'all')=Restablecer_preferencias_(key1,key2,..._or_'todas')\n Find_unlinked_files=Buscar_archivos_desenlazados\n+Unselect_all=Deseleccionar todo\n+Expand_all=Expandir todo\n+Collapse_all=Colapsar todo\n Select_Directory=Seleccionar_directorio\n Choose_Directory=Escoger_directorio\n Use_the_selected_directory_to_start_with_the_search.=Usar_la_carpeta_seleccionada_para_comenzar_la_b\\u00fasqueda.\n@@ -1393,78 +1401,78 @@ The_current_BibTeX_key_will_be_overwritten._Continue?=La_clave_BibTeX_actual_va_\n Overwrite_key=Sobreescribir_clave\n Not_overwriting_existing_key._To_change_this_setting,_open_Options_->_Prefererences_->_BibTeX_key_generator=No_se_sobreescribir\\u00e1_clave_existente._Para_cambiar_este_ajuste,_seleccione_Opciones->Preferencias->Generador_de_claves_BiBTeX\n How_would_you_like_to_link_to_'%0'?=\\u00bfC\\u00f3mo_desea_enlazar_'%0'?\n-Marked_entries_as_relevant=Entradas_marcadas_como_relevantes\n-Marked_entries'_quality_as_good=Calidad_de_las_entradas_marcadas_como_buenas\n-no_preview_available=sin_vista_previa\n-Enable_PDF_preview=Habilitar_vista_previa_de_PDF\n-Show_one_letter_heading_for_icon_columns=Mostrar_encabezamiento_de_una_letra_para_columnas_de_icono\n-Help_on_special_fields=Ayuda_sobre_campos_especiales\n-Enable_special_fields=Habilitar_campos_especiales\n-Show_rank=Mostrar_rango\n-Compact_rank=Compactar_rango\n-Show_quality=Mostrar_cualidad\n-Show_priority=Mostrar_prioridad\n-Show_relevance=Mostrar_relevancia\n-Synchronize_with_keywords=Sincronizar_con_palabras_clave\n-Write_values_of_special_fields_as_separate_fields_to_BibTeX=Escribir_valores_de_campos_especiales_como_campos_separados_en_BibTeX\n-You_have_changed_settings_for_special_fields.=Ha_cambiado_los_ajustes_para_campos_especiales.\n-Changed_special_field_settings=Ajustes_de_campos_especiales_cambiados\n Bibtex_key_patterns=Patrones_de_clave_BibTeX\n+Changed_special_field_settings=Ajustes_de_campos_especiales_cambiados\n+Clear_priority=Limpiar_prioridad\n+Clear_rank=Limpiar_rango\n+Compact_rank=Compactar_rango\n Convert_1st,_2nd,_..._to_real_superscripts=Convertir_1st,_2nd,_..._a_super\\u00edndices\n-Manage_content_selectors=Getionar_selectores_de_contenido\n Dropped_comment_from_database=Eliminado_comentario_de_la_base_de_datos\n-Synchronized_special_fields_based_on_keywords=Sincronizar_campos_especiales_basados_en_palabras_clave\n-Clear_priority=Limpiar_prioridad\n+Enable_PDF_preview=Habilitar_vista_previa_de_PDF\n+Enable_special_fields=Habilitar_campos_especiales\n+Five_stars=Cinco_estrellas\n+Four_stars=Cuatro_estrellas\n+Help_on_special_fields=Ayuda_sobre_campos_especiales\n+Keywords_of_selected_entries=Palabras_clave_de_las_entradas_seleccionadas\n+Manage_content_selectors=Getionar_selectores_de_contenido\n+Manage_keywords=Administrar_palabras_clave\n+Marked_entries'_quality_as_good=Calidad_de_las_entradas_marcadas_como_buenas\n+Marked_entries_as_relevant=Entradas_marcadas_como_relevantes\n No_priority_information=Sin_informaci\\u00f3n_de_prioridad\n-Set_priority_to_high=Establecer_prioridad_alta\n+No_rank_information=Sin_informaci\\u00f3n_de_rango\n+One_star=Una_estrella\n+Priority=Prioridad\n Priority_high=Prioridad_alta\n-Set_priority_to_medium=Establecer_prioridad_media\n-Priority_medium=Prioridad_media\n-Set_priority_to_low=Establecer_prioridad_baja\n Priority_low=Prioridad_baja\n-Priority=Prioridad\n-Toogle_quality_assured=Conmutar_calidad_asegurada\n+Priority_medium=Prioridad_media\n Quality=Calidad\n Rank=Rango\n-Clear_rank=Limpiar_rango\n-No_rank_information=Sin_informaci\\u00f3n_de_rango\n+Relevance=Relevancia\n+Set_priority_to_high=Establecer_prioridad_alta\n+Set_priority_to_low=Establecer_prioridad_baja\n+Set_priority_to_medium=Establecer_prioridad_media\n+Set_rank_to_five_stars=Establecer_rango_en_cinco_estrellas\n+Set_rank_to_four_stars=Establecer_rango_en_cuatro_estrellas\n Set_rank_to_one_star=Establecer_rango_en_una_estrella\n-One_star=Una_estrella\n-Set_rank_to_two_stars=Establecer_rango_en_dos_estrellas\n-Two_stars=Dos_estrellas\n Set_rank_to_three_stars=Establecer_rango_en_tres_estrellas\n+Set_rank_to_two_stars=Establecer_rango_en_dos_estrellas\n+Show_one_letter_heading_for_icon_columns=Mostrar_encabezamiento_de_una_letra_para_columnas_de_icono\n+Show_priority=Mostrar_prioridad\n+Show_quality=Mostrar_cualidad\n+Show_rank=Mostrar_rango\n+Show_relevance=Mostrar_relevancia\n+Synchronize_with_keywords=Sincronizar_con_palabras_clave\n+Synchronized_special_fields_based_on_keywords=Sincronizar_campos_especiales_basados_en_palabras_clave\n Three_stars=Tres_estrellas\n-Set_rank_to_four_stars=Establecer_rango_en_cuatro_estrellas\n-Four_stars=Cuatro_estrellas\n-Set_rank_to_five_stars=Establecer_rango_en_cinco_estrellas\n-Five_stars=Cinco_estrellas\n Toggle_relevance=Conmutar_relevancia\n-Relevance=Relevancia\n-Manage_keywords=Administrar_palabras_clave\n-Keywords_of_selected_entries=Palabras_clave_de_las_entradas_seleccionadas\n+Toogle_quality_assured=Conmutar_calidad_asegurada\n+Two_stars=Dos_estrellas\n Update_keywords=Actualizar_palabras_clave\n-Correct_the_entry,_and_reopen_editor_to_display/edit_source.=Corregir_la_entrada_y_reabrir_el_editor_para_mostrar/editar_fuente.\n-When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above=Al_descargar_archivos_o_mover_archivos_enlazados_a_la_carpeta_de_archivos,_preferir_la_ubicaci\\u00f3n_del_archivo_bib_antes_que_el_directorio_de_archivos_establecido_arriba.\n-If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.=Si_una_entrada_importada_o_pegada_ya_tiene_el_campo_establecido,_sobreescribir.\n-To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=Para_deshabilitar_el_modo_l\\u00e1piz_de_memoria,_renombre_o_elimine_el_archivo_jabrf.xml_en_la_misma_carpeta_que_JabRef.\n-Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=Tenga_en_cuanta_que_es_una_versi\\u00f3n_beta_temprana._\\u00a1No_la_use_sin_hacer_una_copia_de_seguridad_de_sus_archivos!\n+Write_values_of_special_fields_as_separate_fields_to_BibTeX=Escribir_valores_de_campos_especiales_como_campos_separados_en_BibTeX\n+You_have_changed_settings_for_special_fields.=Ha_cambiado_los_ajustes_para_campos_especiales.\n+no_preview_available=sin_vista_previa\n+%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.=%0_entradas_encontradas._Para_reducir_la_carga_del_servidor,_s\\u00f3lo_%1_ser\\u00e1(n)_descargada(s).\n A_string_with_that_label_already_exists=Una_cadena_con_esa_etiqueta_ya_existe\n+Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.=La_conexi\\u00f3n_con_OpenOffice/LibreOffice_se_ha_perdido._Aseg\\u00farese_de_que_OpenOffice/LibreOffice_est\\u00e1_ejecut\\u00e1ndose_e_intente_reconectar.\n+Correct_the_entry,_and_reopen_editor_to_display/edit_source.=Corregir_la_entrada_y_reabrir_el_editor_para_mostrar/editar_fuente.\n Could_not_connect_to_a_running_gnuserv_process._Make_sure_that_Emacs_or_XEmacs_is_running,<BR>and_that_the_server_has_been_started_(by_running_the_command_'server-start'/'gnuserv-start').=No_se_puede_conectar_con_un_proceso_gnuserv_ejecut\\u00e1ndose._Aseg\\u00farese_de_que_Emacs_o_XEmacs_est\\u00e1_ejecut\\u00e1ndose,<BR>y_que_el_servidor_se_ha_arrancado_(ejecutando_el_comando_'server-start'/'gnuserv-start').\n-Use_the_following_delimiter_character(s)\\:=Usar_como_caracter(es)_delimitador(es):\n+Could_not_connect_to_running_OpenOffice.\\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\\nIf_connecting_manually,_please_verify_program_and_library_paths.\\n\\nError_message\\:_=No_se_puede_conectar_a_un_OpenOffice/LibreOffice_en_ejecuci\\u00f3n.\\nAseg\\u00farese_de_que_tiene_OpenOffice/LibreOffice_instalado_con_soporte_para_Java.\\nlf__connecting_manually,_por_favor_verifique_las_ruta_de_programa_y_librer\\u00edas.\\n\\nMensaje_de_error:_\n Created_group_\"%0\".=Creado_grupo_\"%0\".\n+If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.=Si_una_entrada_importada_o_pegada_ya_tiene_el_campo_establecido,_sobreescribir.\n+Import_Metadata_From_PDF=Importar_metadatos_desde_PDF\n+Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=No_conectado_a_ning\\u00fan_documento_Writer._Aseg\\u00farese_de_que_un_documento_est\\u00e1_abierto_y_use_el_bot\\u00f3n_\"Seleccionar_documento_Writer'_para_conectar_con_\\u00e9l.\n+Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=Tenga_en_cuanta_que_es_una_versi\\u00f3n_beta_temprana._\\u00a1No_la_use_sin_hacer_una_copia_de_seguridad_de_sus_archivos!\n Removed_all_subgroups_of_group_\"%0\".=Eliminados_todos_los_subgrupos_del_grupo_\"%0\".\n-%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.=%0_entradas_encontradas._Para_reducir_la_carga_del_servidor,_s\\u00f3lo_%1_ser\\u00e1(n)_descargada(s).\n+To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=Para_deshabilitar_el_modo_l\\u00e1piz_de_memoria,_renombre_o_elimine_el_archivo_jabrf.xml_en_la_misma_carpeta_que_JabRef.\n Unable_to_connect._One_possible_reason_is_that_JabRef_and_OpenOffice/LibreOffice_are_not_both_running_in_either_32_bit_mode_or_64_bit_mode.=No_es_posible_conectar._Una_posible_raz\\u00f3n_es_que_JabRef_y_OpenOffice/LibreOffice_no_est\\u00e1n_funcionado_en_modo_32_bit_o_64_bit.\n-Could_not_connect_to_running_OpenOffice.\\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\\nIf_connecting_manually,_please_verify_program_and_library_paths.\\n\\nError_message\\:_=No_se_puede_conectar_a_un_OpenOffice/LibreOffice_en_ejecuci\\u00f3n.\\nAseg\\u00farese_de_que_tiene_OpenOffice/LibreOffice_instalado_con_soporte_para_Java.\\nlf__connecting_manually,_por_favor_verifique_las_ruta_de_programa_y_librer\\u00edas.\\n\\nMensaje_de_error:_\n-Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=No_conectado_a_ning\\u00fan_documento_Writer._Aseg\\u00farese_de_que_un_documento_est\\u00e1_abierto_y_use_el_bot\\u00f3n_\"Seleccionar_documento_Writer'_para_conectar_con_\\u00e9l.\n-Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.=La_conexi\\u00f3n_con_OpenOffice/LibreOffice_se_ha_perdido._Aseg\\u00farese_de_que_OpenOffice/LibreOffice_est\\u00e1_ejecut\\u00e1ndose_e_intente_reconectar.\n-Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Su_archivo_de_estilo_especifica_el_formato_de_p\\u00e1rrafo_'%0',_que_no_est\\u00e1_definido_en_su_documento_OpenOffice/LibreOffice.\n-Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Su_archivo_de_estilo_especifica_el_formato_de_car\\u00e1cter_'%0',_que_no_est\\u00e1_definido_en_su_documento_OpenOffice_actual.\n Unable_to_determine_plugin_name_and_version._This_may_not_be_a_valid_JabRef_plugin.=No_es_posible_determinar_el_nombre_y_versi\\u00f3n_del_plugin._Puede_que_no_sea_un_plugin_JabRef_v\\u00e1lido.\n-Import_Metadata_From_PDF=Importar_metadatos_desde_PDF\n+Use_the_following_delimiter_character(s)\\:=Usar_como_caracter(es)_delimitador(es):\n+When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above=Al_descargar_archivos_o_mover_archivos_enlazados_a_la_carpeta_de_archivos,_preferir_la_ubicaci\\u00f3n_del_archivo_bib_antes_que_el_directorio_de_archivos_establecido_arriba.\n+Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Su_archivo_de_estilo_especifica_el_formato_de_car\\u00e1cter_'%0',_que_no_est\\u00e1_definido_en_su_documento_OpenOffice_actual.\n+Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Su_archivo_de_estilo_especifica_el_formato_de_p\\u00e1rrafo_'%0',_que_no_est\\u00e1_definido_en_su_documento_OpenOffice/LibreOffice.\n+Error_fetching_from_Google_Scholar=Error_recuperando_desde_Google_Scholar\n Run_HTML_converter_on_title=Ejecutar_conversor_HTML_en_t\\u00edtulo\n Searching...=Buscando...\n-Error_fetching_from_Google_Scholar=Error_recuperando_desde_Google_Scholar\n You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?=Ha_seleccionado_m\\u00e1s_de_%0_entradas_para_descargar._Algunos_sitios_web_podr\\u00edan_bloquearle_si_hace_demasiadas_descargas._\\u00bfDesea_continuar?\n Confirm_selection=Confirmar_selecci\\u00f3n\n Unknown_DOI\\:_'%0'.=DOI_desconocido:_'%0'.\n@@ -1484,32 +1492,32 @@ Unknown_DiVA_entry\\:_'%0'.=Entrada_DiVA_desconocida:_'%0'.\n Get_BibTeX_entry_from_DiVA=Obtener_entrada_BibTeX_desde_DiVA\n Log=Registro\n ISO_690=ISO_690\n-Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search=Formatear_unidades_a\\u00f1adiendo_separadores_no_divisores_y_manteniendo_may\\u00fasculas/min\\u00fasculas_correctamente_en_la_b\\u00fasqueda\n-Use_Emacs_key_bindings=Usar_combinaciones_de_teclas_de_Emacs\n-Merge_entries=Fusionar_entradas\n-Show_URL_first=Mostrar_URL_en_primer_lugar\n-Show_DOI_first=Mostrar_DOI_en_primer_lugar\n-Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations=Eliminar_$,_{_y_}_innecesarios_y_mover_n\\u00fameros_adyacentes_a_ecuaciones\n Add_brackets_and_replace_separators_with_their_non-breaking_version_for_units=A\\u00f1adir_par\\u00e9ntesis_y_reemplazar_separadores_con_sus_versiones_no_divisoras_para_unidades.\n-First_entry=Primera_entrada\n-Use_1st=Usar_primero\n-None=Ning\\u00fan\n-Use_2nd=Usar_segundo\n-Second_entry=Segunda_entrada\n-You_have_to_choose_exactly_two_entries_to_merge.=Tiene_que_escoger_exactamente_dos_entradas_para_fusionar.\n-Merged_entry=Entrada_fusionada\n-Error_in_entry=Error_en_la_entrada\n Add_new_entry_and_keep_both_old_entries=A\\u00f1adir_nueva_entrada_y_mantener_las_dos_entradas_antiguas\n-Replace_old_entries_with_new_entry=Reemplazar_viejas_entradas_con_la_nueva\n Cancelled_merging_entries=Cancelar_fusionado_de_entradas\n+Error_in_entry=Error_en_la_entrada\n+First_entry=Primera_entrada\n+Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search=Formatear_unidades_a\\u00f1adiendo_separadores_no_divisores_y_manteniendo_may\\u00fasculas/min\\u00fasculas_correctamente_en_la_b\\u00fasqueda\n+Merge_entries=Fusionar_entradas\n Merged_entries_into_a_new_and_kept_the_old=Fusionar_entradas_en_una_nueva_y_mantener_la_antigua\n Merged_entries_into_a_new_and_removed_the_old=Entradas_fusionadas_en_una_nueva_y_eliminada_la_antigua\n+Merged_entry=Entrada_fusionada\n+None=Ning\\u00fan\n Parse=Analizar\n+Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations=Eliminar_$,_{_y_}_innecesarios_y_mover_n\\u00fameros_adyacentes_a_ecuaciones\n+Replace_old_entries_with_new_entry=Reemplazar_viejas_entradas_con_la_nueva\n Result=Resultado\n+Second_entry=Segunda_entrada\n+Show_DOI_first=Mostrar_DOI_en_primer_lugar\n+Show_URL_first=Mostrar_URL_en_primer_lugar\n+Use_1st=Usar_primero\n+Use_2nd=Usar_segundo\n+Use_Emacs_key_bindings=Usar_combinaciones_de_teclas_de_Emacs\n+You_have_to_choose_exactly_two_entries_to_merge.=Tiene_que_escoger_exactamente_dos_entradas_para_fusionar.\n Update_timestamp_on_modification=Actualizar_marca_de_tiempo_al_modificar\n change_field=cambiar_campo\n-Automatically_set_file_links=Establecer_enlaces_de_archivo_autom\\u00e1ticamente\n All_key_bindings_will_be_reset_to_their_defaults.=Todas_las_combinaciones_de_teclas_ser\\u00e1n_restablecidas_a_su_configuraci\\u00f3n_por_defecto\n+Automatically_set_file_links=Establecer_enlaces_de_archivo_autom\\u00e1ticamente\n Continue?=\\u00bfContinuar?\n Resetting_all_key_bindings=Reestableciendo_todas_las_combinaciones_de_teclas\n Save_entries_ordered_by_title=Guardar_entradas_ordenadas_por_t\\u00edtulo\n@@ -1520,29 +1528,21 @@ Include_empty_fields=Incluir_campos_vac\\u00edos\n Field_saving_options=Opciones_de_guardado_de_campo\n Field_value_delimiter._E.g.,_\"author\\={x}\"_or_\"author\\='x'\"=Delimitador_de_valor_de_campo._Ej._\"author={x}\"_o_\"author='x'\"\n Run_Unicode_converter_on_title,_author(s),_and_abstract=Ejecutar_conversor_Unicode_en_t\\u00edtulo,_autor(es)_y_resumen\n-Start_field_contents_in_same_column=Comenzar_los_contenidos_del_campo_en_la_misma_columna\n-Use_camel_case_for_field_names_(e.g.,_\"HowPublished\"_instead_of_\"howpublished\")=Usar_camel_case_para_nombres_de_campo_UEj._\"VistaHermosa\"_en_lugar_de_\"vistahermosa\")\n Database_has_changed._Do_you_want_to_save_before_closing?=La_base_de_datos_ha_cambiado._\\u00bfDesea_guardar_antes_de_cerra?\n-Use_custom_proxy_configuration=Usar_configuraci\\u00f3n_de_proxy_personalizada\n-Network=Red\n Host=Host\n-Port=Puerto\n-Please_specify_both_hostname_and_port=Especifique_tanto_nombre_de_host_como_puerto\n Invalid_setting=Ajuste_inv\\u00e1lido\n-Automatically_set_file_links_for_this_entry=Ajustar enlaces de archivo autom\\u00c3\\u00a1ticamente para esta entrada\n+Network=Red\n+Please_specify_both_hostname_and_port=Especifique_tanto_nombre_de_host_como_puerto\n+Port=Puerto\n+Start_field_contents_in_same_column=Comenzar_los_contenidos_del_campo_en_la_misma_columna\n+Use_camel_case_for_field_names_(e.g.,_\"HowPublished\"_instead_of_\"howpublished\")=Usar_camel_case_para_nombres_de_campo_UEj._\"VistaHermosa\"_en_lugar_de_\"vistahermosa\")\n+Use_custom_proxy_configuration=Usar_configuraci\\u00f3n_de_proxy_personalizada\n Clear_connection_settings=Limpiar ajustes de conexi\\u00c3\\u00b3n\n Cleared_connection_settings.=Ajustes de conexi\\u00f3n limpiados\n-Collapse_all=Colapsar todo\n-Error_converting_BibTeX_to_XMP\\:_%0=Error convirtiendo BibTeX a XMP:_%0\n-Expand_all=Expandir todo\n-First_select_the_entries_you_want_keys_to_be_generated_for.=En primer lugar, seleccione las entradas para las que desea generar claves\n Rebind_C-a,_too=Volver a combinar C-a tambi\\u00c3\\u00a9n\n-Search_specified_field(s)=Buscar en campo(s) especificado(s)\n-Unselect_all=Deseleccionar todo\n-Waiting_for_save_operation_to_finish=Esperando a que acabe la operaci\\u00f3n de guardado\n Show_number_of_elements_contained_in_each_group=Mostrar n\\u00famero de elementos contenidos en cada grupo\n \n-Open_folder=\n-Opened_%0_folder(s).=\n+Open_folder=Abrir_carpeta\n+Opened_%0_folder(s).=Se_abrieron_%0_carpeta(s).\n \n-Searches_for_unlinked_PDF_files_on_the_file_system=\n+Searches_for_unlinked_PDF_files_on_the_file_system=Busca_archivos_PDF_sin_enlazar_en_el_sistema_de_archivos, @@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n %0_contains_the_Regular_Expression_<b>%1</b>=%0&nbsp;contient_l'expression_r\\u00e9guli\\u00e8re_<b>%1</b>\n %0_contains_the_term_<b>%1</b>=%0&nbsp;contient_le_terme_<b>%1</b>\n@@ -1516,8 +1516,8 @@ Run_HTML_converter_on_title=Lancer_le_convertisseur_HTML_sur_le_titre\n Searching...=Recherche...\n You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?=Vous_avez_s\\u00e9lectionn\\u00e9_plus_de_%0_entr\\u00e9es_\\u00e0_t\\u00e9l\\u00e9charger._Certains_sites_web_pourraient_vous_bloquer_si_vous_effectuez_de_trop_nombreux_et_rapides_t\\u00e9l\\u00e9chargements._Voulez-vous_continuer?\n Confirm_selection=Confirmez_la_s\\u00e9lection\n-Get_BibTeX_entry_from_DOI=Obtenir_l'entr\\u00e9e_BibTeX_\\u00e0_partir_du_DOI\n Unknown_DOI\\:_'%0'.=DOI_inconnu_:_'%0'.\n+Get_BibTeX_entry_from_DOI=Obtenir_l'entr\\u00e9e_BibTeX_\\u00e0_partir_du_DOI\n Prefer_converting_subscripts_and_superscripts_to_equations_rather_than_text=Conversion_des_indices_et_exposants_en_\\u00e9quations_plut\\u00f4t_qu'en_texte\n Add_{}_to_specified_title_words_on_search_to_keep_the_correct_case=Ajouter_{}_aux_mots_du_titre_sp\\u00e9cifi\\u00e9s_lors_d'une_recherche_pour_pr\\u00e9server_la_casse_correcte\n Import_conversions=Importer_les_conversions, @@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n %0_contains_the_Regular_Expression_<b>%1</b>=%0_mengandung_Ekspresi_Reguler_<b>%1</b>\n %0_contains_the_term_<b>%1</b>=%_mengandung_istilah_<b>%1</b>, @@ -1,5 +1,5 @@\n #!\n-#! edited by Eclipse PropertiesEditor\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n %0_contains_the_Regular_Expression_<b>%1</b>=%0_contiene_l'Espressione_Regolare_<b>%1</b>\n %0_contains_the_term_<b>%1</b>=%0_contiene_il_termine_<b>%1</b>\n@@ -1429,6 +1429,9 @@ Show=Mostra\n This_is_a_simple_copy_and_paste_dialog._First_load_or_paste_some_text_into_the_text_input_area.<br>After_that,_you_can_mark_text_and_assign_it_to_a_BibTeX_field.=Questo_\\u00e8_un_semplice_dialogo_di_copia_e_incolla._Prima_carica_o_incolla_il_testo_nell'area_di_inserimento_di_testo.<BR>Quindi_\\u00e8_possibile_selezionare_parti_del_testo_e_assegnarle_ai_campi_BibTeX.\n Java_Bouncy_Castle_library_not_found._Please_download_and_install_it._For_more_information_see_http\\://www.bouncycastle.org/.=La_libreria_Java_Bouncy_Castle_non_\\u00e8_stata_trovata._\\u00c8_necessario_scaricarla_ed_installarla._Per_ulteriori_informazioni_vedi_http://www.bouncycastle.org/.\n \n+This_feature_generates_a_new_database_based_on_which_entries_are_needed_in_an_existing_LaTeX_document.=Questa_funzione_genera_un_nuovo_database_basato_sulle_voci_necessarie_in_un_documento_LaTeX_esistente.\n+You_need_to_select_one_of_your_open_databases_from_which_to_choose_entries,_as_well_as_the_AUX_file_produced_by_LaTeX_when_compiling_your_document.=\\u00c8_necessario_selezionare_uno_dei_database_aperti_da_cui_scegliere_le_voci,_cos\\u00ec_come_il_file_AUX_prodotto_da_LaTeX_nel_compilare_il_documento.\n+\n First_select_entries_to_clean_up.=Selezionare_le_voci_da_ripulire.\n Cleanup_entry=Ripulisci_voce\n Autogenerate_PDF_Names=Genera_automaticamente_i_nomi_dei_file_PDF\n@@ -1443,6 +1446,7 @@ Autocomplete_after_following_number_of_characters=Attiva_autocompletamento_dopo_\n Name_format_used_for_autocompletion=Formato_dei_nomi_usato_per_l'autocompletamento\n Treatment_of_first_names=Gestione_dei_nomi\n Cleanup_entries=Ripulisci_voci\n+Automatically_assign_new_entry_to_selected_groups=Assegna_automaticamente_la_nuova_voce_ai_gruppi_selezionati\n Move_DOIs_from_note_and_URL_field_to_DOI_field_and_remove_http_prefix=Sposta_i_DOI_dai_campi_note_e_URL_al_campo_DOI_e_rimuovi_il_prefisso_'http'\n Format_content_of_month_field_to_#mon#=Formatta_il_contenuto_del_campo_'month'_nella_forma_'#mon#'\n Ensure_that_page_ranges_are_of_the_form_num1--num2=Assicura_che_gli_intervalli_di_pagine_siano_nella_forma_'num1--num2'\n@@ -1454,12 +1458,8 @@ Doing_a_cleanup_for_%0_entries...=Ripulitura_per_%0_voci...\n No_entry_needed_a_clean_up=Nessuna_voce_necessita_ripulitura\n One_entry_needed_a_clean_up=Una_voce_necessita_ripulitura\n %0_entries_needed_a_clean_up=%0_voci_necessitano_ripulitura\n-Minimize_to_system_tray=Minimizza_nell'area_di_notifica\n-\n-This_feature_generates_a_new_database_based_on_which_entries_are_needed_in_an_existing_LaTeX_document.=Questa_funzione_genera_un_nuovo_database_basato_sulle_voci_necessarie_in_un_documento_LaTeX_esistente.\n-You_need_to_select_one_of_your_open_databases_from_which_to_choose_entries,_as_well_as_the_AUX_file_produced_by_LaTeX_when_compiling_your_document.=\\u00c8_necessario_selezionare_uno_dei_database_aperti_da_cui_scegliere_le_voci,_cos\\u00ec_come_il_file_AUX_prodotto_da_LaTeX_nel_compilare_il_documento.\n-Automatically_assign_new_entry_to_selected_groups=Assegna_automaticamente_la_nuova_voce_ai_gruppi_selezionati\n Error_importing_from_database=Errore_di_importazione_dal_database\n+Minimize_to_system_tray=Minimizza_nell'area_di_notifica\n \n Error_downloading_file_'%0'=Errore_nel_corso_del_download_del_file_'%0'\n Download_failed=Download_fallito, @@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n \n %0_contains_the_Regular_Expression_<b>%1</b>=%0_bevat_de_regular_expression_<b>%1</b>\n@@ -1842,6 +1842,7 @@ This_feature_lets_new_files_be_opened_or_imported_into_an_already_running_instan\n Note_that_these_settings_are_used_for_the_legacy_<b>pdf</b>_and_<b>ps</b>_fields_only.<br>For_most_users,_setting_the_<b>Main_file_directory</b>_above_should_be_sufficient.=\n Legacy_file_fields=\n This_makes_JabRef_look_up_each_%0_extension_and_check_if_the_file_exists._If_not,_you_will_be_given_options<BR>to_resolve_the_problem.=\n+Run_Fetcher,_e.g._\"--fetch\\=Medline\\:cancer\"=\n The_ACM_Digital_Library=\n Reset=\n Use_IEEE_LaTeX_abbreviations=\n@@ -2306,7 +2307,6 @@ Import_Metadata_From_PDF=\n Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=\n Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=\n Removed_all_subgroups_of_group_\"%0\".=\n-Run_Fetcher,_e.g._\"--fetch\\=Medline\\:cancer\"=\n To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=\n Unable_to_connect._One_possible_reason_is_that_JabRef_and_OpenOffice/LibreOffice_are_not_both_running_in_either_32_bit_mode_or_64_bit_mode.=\n Unable_to_determine_plugin_name_and_version._This_may_not_be_a_valid_JabRef_plugin.=, @@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n \n %0_contains_the_Regular_Expression_<b>%1</b>=%0_inneholder_regul\\u00e6ruttrykket_<b>%1</b>\n@@ -100,6 +100,7 @@ All_fields=Alle_felter\n All_subgroups_(recursively)=Alle_undergrupper_(rekursivt)\n \n Allow_editing_in_table_cells=Tillat_redigering_av_celler_i_tabellen\n+An_Error_occurred_while_fetching_from_OAI2_source_(%0)\\:=En_feil_oppsto_under_nedlasting_fra_OIA2_source_(%0):\n \n An_Exception_ocurred_while_accessing_'%0'=En_feil_oppsto_ved_lesing_av_'%0'\n \n@@ -2610,6 +2611,13 @@ You_must_select_either_a_valid_style_file,_or_use_a_default_style.=Du_m\\u00e5_en\n \n Show=Vis\n \n+This_is_a_simple_copy_and_paste_dialog._First_load_or_paste_some_text_into_the_text_input_area.<br>After_that,_you_can_mark_text_and_assign_it_to_a_BibTeX_field.=Dette_er_et_enkelt_klipp-og-lim-vindu._F\\u00f8rst_last_inn_eller_lim_inn_tekst_i_tekstfeltet.<br>Deretter_kan_du_merke_tekst_og_tilordne_den_til_BibTeX-felter.\n+Java_Bouncy_Castle_library_not_found._Please_download_and_install_it._For_more_information_see_http\\://www.bouncycastle.org/.=Java_Bouncy_Castle-bibliotek_ikke_tilgjengelig._For_\\u00e5_f\\u00e5_tilgang_til_dette_kan_du_installere_det._For_mer_informasjon,_se_http://www.bouncycastle.org/.\n+\n+This_feature_generates_a_new_database_based_on_which_entries_are_needed_in_an_existing_LaTeX_document.=Denne_funksjonen_genererer_en_ny_database_basert_p\\u00e5_hvilke_enheter_som_trengs_i_et_eksisterende_LaTeX-dokument.\n+\n+You_need_to_select_one_of_your_open_databases_from_which_to_choose_entries,_as_well_as_the_AUX_file_produced_by_LaTeX_when_compiling_your_document.=Du_m\\u00e5_velge_en_av_de_\\u00e5pne_databasene_hvor_enheter_skal_hentes_fra,_i_tillegg_til_AUX-filen_generert_av_LaTeX_n\\u00e5r_dokumentet_kompileres.\n+\n First_select_entries_to_clean_up.=\n Cleanup_entry=\n Autogenerate_PDF_Names=\n@@ -2625,6 +2633,8 @@ Name_format_used_for_autocompletion=\n Treatment_of_first_names=\n Cleanup_entries=\n \n+Automatically_assign_new_entry_to_selected_groups=Tilordne_automatisk_nye_enheter_til_valgte_grupper\n+\n Move_DOIs_from_note_and_URL_field_to_DOI_field_and_remove_http_prefix=\n Format_content_of_month_field_to_#mon#=\n Ensure_that_page_ranges_are_of_the_form_num1--num2=\n@@ -2637,16 +2647,8 @@ No_entry_needed_a_clean_up=\n One_entry_needed_a_clean_up=\n %0_entries_needed_a_clean_up=\n \n-This_is_a_simple_copy_and_paste_dialog._First_load_or_paste_some_text_into_the_text_input_area.<br>After_that,_you_can_mark_text_and_assign_it_to_a_BibTeX_field.=Dette_er_et_enkelt_klipp-og-lim-vindu._F\\u00f8rst_last_inn_eller_lim_inn_tekst_i_tekstfeltet.<br>Deretter_kan_du_merke_tekst_og_tilordne_den_til_BibTeX-felter.\n-Java_Bouncy_Castle_library_not_found._Please_download_and_install_it._For_more_information_see_http\\://www.bouncycastle.org/.=Java_Bouncy_Castle-bibliotek_ikke_tilgjengelig._For_\\u00e5_f\\u00e5_tilgang_til_dette_kan_du_installere_det._For_mer_informasjon,_se_http://www.bouncycastle.org/.\n-\n-This_feature_generates_a_new_database_based_on_which_entries_are_needed_in_an_existing_LaTeX_document.=Denne_funksjonen_genererer_en_ny_database_basert_p\\u00e5_hvilke_enheter_som_trengs_i_et_eksisterende_LaTeX-dokument.\n-\n-You_need_to_select_one_of_your_open_databases_from_which_to_choose_entries,_as_well_as_the_AUX_file_produced_by_LaTeX_when_compiling_your_document.=Du_m\\u00e5_velge_en_av_de_\\u00e5pne_databasene_hvor_enheter_skal_hentes_fra,_i_tillegg_til_AUX-filen_generert_av_LaTeX_n\\u00e5r_dokumentet_kompileres.\n-\n-Automatically_assign_new_entry_to_selected_groups=Tilordne_automatisk_nye_enheter_til_valgte_grupper\n-\n Error_importing_from_database=Feil_ved_import_fra_database\n+Minimize_to_system_tray=\n \n Error_downloading_file_'%0'=Feil_ved_nedlasting_av_filen_'%0'\n Download_failed=Nedlasting_mislyktes\n@@ -2665,8 +2667,6 @@ Please_select_which_JabRef_databases_do_you_want_to_import\\:=Vennligst_velg_hvil\n \n Group_tree_could_not_be_parsed._If_you_save_the_BibTeX_database,_all_groups_will_be_lost.=\n Attach_file=\n-Minimize_to_system_tray=\n-An_Error_occurred_while_fetching_from_OAI2_source_(%0)\\:=En_feil_oppsto_under_nedlasting_fra_OIA2_source_(%0):\n \n Setting_all_preferences_to_default_values.=\n Resetting_preference_key_'%0'=, None, None, @@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n \n %0_contains_the_Regular_Expression_<b>%1</b>=%0%0&nbsp;ch\\u1ee9a_bi\\u1ec3u_th\\u1ee9c_ch\\u00ednh_t\\u1eafc_<b>%1</b>, @@ -1,5 +1,5 @@\n #!\n-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)\n+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)\n #! encoding:ISO-8859-1\n \n %0_contains_the_Regular_Expression_<b>%1</b>=%0_\\u5305\\u542b\\u6b63\\u5219\\u8868\\u8fbe\\u5f0f_<b>%1</b>, ", 3335, 3335, "\"modified, modified, modified, modified, modified, modified, modified, modified, modified, modified, modified, modified, modified, \"", 6670]]